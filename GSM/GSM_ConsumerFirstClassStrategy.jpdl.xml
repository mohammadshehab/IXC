<?xml version="1.0" encoding="UTF-8"?>

<process exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler" name="GSM_ConsumerFirstClassStrategy" xmlns="http://jbpm.org/4.0/jpdl">
   <start continue="async" g="632,2,48,48" name="start1">
      <transition to="Check for Entry Criteria">
         <script expr="12 hours" g="0,0,80,40" var="AUTOTIME"/>
           <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
             <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
              <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
               <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
   </start>
   <custom g="579,93,152,52" name="Collection Started" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="Check Workflow Type"/>
   </custom>
   <custom g="535,544,240,52" name="FC10 - SMS1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC10"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS FC15">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="535,703,240,52" name="Wait Before SMS FC15">
      <transition g="-40,-17" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
    	  <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="1" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="5,3" name="ContinueWorkflow" to="FC15 - SMS2">
         <timer duedate="6 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="1" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="1" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="1" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="311,2741:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="512,1022,281,52" name="FC15 - SMS2" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC15"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS FC20">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="530,1214,245,52" name="Wait Before SMS FC20">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="2" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="2,-11" name="ContinueWorkflow" to="FC20 - SMS3">
         <timer duedate="2 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="2" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="2" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="2" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="311,2737:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="502,1406,299,52" name="FC20 - SMS3" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC20"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CheckCustomerAge"/>
   </custom>
   <decision g="627,1562,140,48" name="CheckCustomerAge">
      <transition g="-4,-14" name="No" to="CheckOverdueAmount">
         <condition expr="${AGE_ON_NETWORK&gt;90}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="Wait Before SMS FC21">
         <condition expr="${AGE_ON_NETWORK&lt;=90}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <decision g="627,1668,150,48" name="CheckOverdueAmount">
      <transition g="-5,-20" name="Yes" to="Wait Before VRS FC30">
         <condition expr="${CUSTOMER_AMOUNT&lt;=399.99}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait Before SMS FC24">
         <condition expr="${CUSTOMER_AMOUNT&gt;399.99}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <custom g="568,2018,169,52" name="FC30 - VRS" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="VRSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="1"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS FC31">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="1459,1893,155,52" name="FC24 - SMS4" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC24"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before FC25">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="551,1777,202,52" name="Wait Before VRS FC30">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="3,4" name="ContinueWorkflow" to="FC30 - VRS">
         <timer duedate="8 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="3" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="3" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="307,2735:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <state continue="async" g="1442,1666,190,52" name="Wait Before SMS FC24">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="11" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-107,-11" name="ContinueWorkflow" to="FC24 - SMS4">
         <timer duedate="4 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="11" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="11" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="11" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <state continue="async" g="544,2137,218,52" name="Wait Before SMS FC31">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="4,2" name="ContinueWorkflow" to="FC31 - SMS4">
         <timer duedate="7 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="4" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="4" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="296,3096:-10,-33" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="548,2377,209,52" name="FC31 - SMS4" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC31"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS FC32">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="541,2539,223,52" name="Wait Before SMS FC32">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="5" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="10,-19" name="ContinueWorkflow" to="FC32 - SMS5">
         <timer duedate="6 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="5" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="5" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="5" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="296,3100:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="551,2736,203,52" name="FC32 - SMS5" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC32"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check Open Amount With 800"/>
   </custom>
   <state continue="async" g="539,2969,226,52" name="Wait Before SMS FC33">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="6" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="6,-11" name="ContinueWorkflow" to="FC33 - SMS6">
         <timer duedate="5 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="6" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="6" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="6" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="105,3765:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="551,3147,200,52" name="FC33 - SMS6" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC33"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait before Temp SD">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="537,3326,227,52" name="Wait before Temp SD">
      <transition g="1,-2" name="ContinueWorkflow" to="Holiday Action Before Temp SD">
         <timer duedate="2 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="7" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="7" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="215,3989:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="551,3818,198,52" name="Temp SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="Schedule Job Action Before SD">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <decision g="625,4478,280,48" name="Check Roaming Flag Before Soft Disconnection">
      <transition g="-5,-20" name="Yes" to="01-ROAM-14-FCRFSD">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
         <condition expr="${ROAMING_FLAG==0}"/>
           <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <state continue="async" g="523,4091,253,52" name="Wait before SD FC40">
      <transition g="-104,0" name="ContinueWorkflow" to="Holiday Action Before SD FC40">
         <timer duedate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="9" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="9" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="433,4403:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="566,4590,166,52" name="FC40 - SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="SD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="1" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Forever After SD"/>
   </custom>
   <task continue="async" g="1014,4477,215,52" name="01-ROAM-14-FCRFSD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-14-FCRFSD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="10" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="10" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="1121,4660:-104,-18" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="10" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="10" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </task>
   <custom g="1668,6452,223,52" name="FC55 - Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="Suspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="2" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Forever After Suspension">
      </transition>
   </custom>
   <sub-process g="1674,6987,213,52" name="Collection Final Strategy" sub-process-key="GSM_SUBWF_ConsumerFinalStrategy">
      <transition g="2,-12" name="IXC_Exit" to="Collection Ended"/>
   </sub-process>
   <custom g="1683,7142,195,52" name="Collection Ended" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ImportInterfaceAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTIVITY_TYPE"/>
               </key>
               <value>
                  <object expr="CollectionEnded"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="IXC_UPDATE"/>
               </key>
               <value>
                  <object expr="Y"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="end1"/>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
         <script expr="10" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
   </custom>
   <state continue="async" g="1926,1560,261,52" name="Wait Before SMS FC21">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="19" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-110,0" name="ContinueWorkflow" to=" FC21 - SMS5">
         <timer duedate="5 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="19" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="19" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="19" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="19" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="19" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="19" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="19" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="1946,1748,224,52" name=" FC21 - SMS5" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC21"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS FC22">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1943,1903,232,52" name="Wait Before SMS FC22">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="20" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-105,8" name="ContinueWorkflow" to="FC22 - SMS6">
         <timer duedate="2 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="20" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="20" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="20" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="1951,2157,218,52" name="FC22 - SMS6" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC22"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before TempSD">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1948,2275,223,52" name="Wait Before TempSD">
      <transition g="1226,2301;1226,3486:8,-584" name="ContinueWorkflow" to="Holiday Action Before Temp SD">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="21" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="21" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="21" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="21" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <decision g="1003,4754,200,48" name="CheckOverdueAmountWith799.99">
      <transition g="-5,-20" name="No" to="CheckOverdueAmountWith1199.99">
         <condition expr="${CUSTOMER_AMOUNT&gt;799.99}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="Wait Before SMS FC42">
         <condition expr="${CUSTOMER_AMOUNT&lt;=799.99}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <decision g="1753,4754,205,48" name="CheckOverdueAmountWith1199.99">
      <transition g="5,-18" name="Yes" to="Wait Before FC46">
         <condition expr="${CUSTOMER_AMOUNT&lt;=1199.99}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="2485,4778:-5,-20" name="No" to="Wait Before SMS FC44">
         <condition expr="${CUSTOMER_AMOUNT&gt;1199.99}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <state continue="async" g="860,4888,334,52" name="Wait Before SMS FC42">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="22" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="4,-6" name="ContinueWorkflow" to="FC42 - SMS7">
         <timer duedate="3 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="22" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="22" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="22" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="22" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="946,3163:-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="22" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="1225,3254:-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="22" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="1184,4028:-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="22" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="22" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="889,5142,277,52" name="FC42 - SMS7" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC42"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS FC43">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="860,5328,337,52" name="Wait Before SMS FC43">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="23" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="7,-3" name="ContinueWorkflow" to="FC43 - SMS8">
         <timer duedate="6 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="23" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="23" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="23" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="23" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="23" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="23" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="23" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="23" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="888,5540,281,52" name="FC43 - SMS8" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC43"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Schedule Job Action Before Suspension FC55">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="858,5749,341,52" name="Wait Before Customer Suspension FC55 ">
      <transition g="1028,5842:7,-19" name="ContinueWorkflow" to="Holiday Action Before Suspension FC55">
         <timer duedate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="24" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="24" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="24" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="24" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="24" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="24" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="24" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="24" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="24" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <state continue="async" g="1632,4877,290,52" name="Wait Before FC46">
      <transition g="-105,11" name="ContinueWorkflow" to="05-OD-07-FC46">
         <timer duedate="4 business days" startdate="${WAITING_ENTRY_DATE}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="TASK_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="25" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="25" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="25" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="25" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="25" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="25" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="25" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="25" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="25" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1958,5596:-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <task continue="async" duedate="9 business days" g="1663,5129,229,52" name="05-OD-07-FC46" startdate="${TASK_ENTRY_DATE}">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="05-OD-07-FC46"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="26" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="-5,-20" name="ContinueWorkflow" to="FC48 - SMS21"/>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="26" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="26" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="26" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="26" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="26" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="26" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1966,5684:-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="26" g="0,0,80,40" var="PTP_FLAG"/>  
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="26" g="0,0,80,40" var="IMPT_FLAG"/>  
      </transition>
      <on event="timeout">
         <timer duedate="9 business days" startdate="${TASK_ENTRY_DATE}"/>
         <event-listener class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment">
               <field name="actionName">
                  <string value="ExecuteEventAction"/>
               </field>
         </event-listener>
      </on>
   </task>
   <custom g="1631,5308,293,52" name="FC48 - SMS21" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC48"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Schedule Job Action Before Suspension">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1611,5655,334,52" name="Wait Before Suspension FC55 ">
      <transition g="-102,-12" name="ContinueWorkflow" to="Holiday Action Before Suspension FC55">
         <timer duedate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="28" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="28" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="28" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="28" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="28" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="28" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="28" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="28" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="28" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1959,5812:-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <state continue="async" g="2303,4885,366,52" name="Wait Before SMS FC44">
      <transition g="2540,4205:-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="29" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-112,-8" name="ContinueWorkflow" to="FC44 - SMS7">
         <timer duedate="4 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="29" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="29" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="29" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="29" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="29" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="29" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="29" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="29" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="2340,5155,294,52" name="FC44 - SMS7" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC44"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before FC47">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="2333,5301,309,52" name="Wait Before FC47">
      <transition g="-106,-9" name="ContinueWorkflow" to="05-OD-08-FC47">
         <timer duedate="4 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="2535,4211:-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="30" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="30" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="30" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="30" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="30" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="30" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="30" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="30" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="30" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <task continue="async" g="2387,5636,201,52" name="05-OD-08-FC47">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="05-OD-08-FC47"/>
         </field>
      </assignment-handler>
      <transition g="2487,5842:-104,-20" name="ContinueWorkflow" to="Holiday Action Before Suspension FC55"/>
      <transition g="2313,5629:-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="31" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="2320,5537:-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="31" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="31" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="31" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="31" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="31" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="31" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="31" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="31" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </task>
   <end g="1757,7282,48,48" name="end1"/>
   <decision g="628,2856,190,48" name="Check Open Amount With 800">
      <transition g="-5,-20" name="No" to="Wait Before SMS FC33">
         <condition expr="${CUSTOMER_AMOUNT&lt;=800}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="05-OD-06-FC25">
         <condition expr="${CUSTOMER_AMOUNT&gt;800}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="TASK_ENTRY_DATE"/>
      </transition>
   </decision>
   <custom g="548,3460,205,52" name="Holiday Action Before Temp SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to="Check Working Day Before Temp SD"/>
   </custom>
   <decision g="626,3581,220,48" name="Check Working Day Before Temp SD">
      <transition g="-5,-20" name="No" to="Wait For 1 Day Before Temp SD">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="Check Roaming Flag Before Temp SD">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="791,3580,205,52" name="Wait For 1 Day Before Temp SD">
      <transition g="893,3486:-113,2" name="ContinueWorkflow" to="Holiday Action Before Temp SD">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="14" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="14" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="14" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="14" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <decision g="626,3718,225,48" name="Check Roaming Flag Before Temp SD">
      <transition g="-5,-20" name="Yes" to="01-ROAM-13-FCRTSD">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Temp SD">
         <condition expr="${ROAMING_FLAG==0}"/>
      </transition>
   </decision>
   <task continue="async" g="899,3716,240,52" name="01-ROAM-13-FCRTSD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-13-FCRTSD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="8" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="8" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="8" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="8" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1018,3844:-129,-18" name="ContinueWorkflow" to="Temp SD"/>
   </task>
   <custom g="560,4222,180,52" name="Holiday Action Before SD FC40" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to="Check Working Day Before SD"/>
   </custom>
   <decision g="625,4359,195,48" name="Check Working Day Before SD">
      <transition g="-5,-20" name="Yes" to="Check Roaming Flag Before Soft Disconnection">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait For 1 Day Before SD FC40">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
        <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <state continue="async" g="781,4358,181,52" name="Wait For 1 Day Before SD FC40">
      <transition g="871,4248:-113,3" name="ContinueWorkflow" to="Holiday Action Before SD FC40">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="16" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="16" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="16" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="16" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <state continue="async" g="1424,2007,225,52" name="Wait Before FC25">
      <transition g="1536,2880:7,-20" name="ContinueWorkflow" to="05-OD-06-FC25">
         <timer duedate="4 business days" startdate="${WAITING_ENTRY_DATE}"/>
        <script expr="${calendar:getDate()}" g="0,0,80,40" var="TASK_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="12" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="12" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="12" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="12" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1588,4134:-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <task continue="async" duedate="6 business days" g="1835,2855,180,52" name="05-OD-06-FC25" startdate="${TASK_ENTRY_DATE}">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="05-OD-06-FC25"/>
         </field>
      </assignment-handler>
      <transition g="26,29" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="13" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="13" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="-27,3" name="ContinueWorkflow" to="05-OD-05-FC26">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="TASK_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="13" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="13" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <on event="timeout">
         <timer duedate="6 business days" startdate="${TASK_ENTRY_DATE}"/>
         <event-listener class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment">
               <field name="actionName">
                  <string value="ExecuteEventAction"/>
               </field>
         </event-listener>
      </on>
   </task>
   <task continue="async" duedate="6 business days" g="1835,3217,180,52" name="05-OD-05-FC26" startdate="${TASK_ENTRY_DATE}">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="05-OD-05-FC26"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="15" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="15" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="-5,-20" name="ContinueWorkflow" to="05-OD-04-FC27">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="TASK_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="15" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="15" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <on event="timeout">
         <timer duedate="6 business days" startdate="${TASK_ENTRY_DATE}"/>
         <event-listener class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment">
               <field name="actionName">
                  <string value="ExecuteEventAction"/>
               </field>
         </event-listener>
      </on>
   </task>
   <task continue="async" duedate="6 business days" g="1836,3579,180,52" name="05-OD-04-FC27" startdate="${TASK_ENTRY_DATE}">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="05-OD-04-FC27"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="17" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="120,-90" name="Installment" to="Payment Plan SubWF">
         <script expr="17" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="1419,3604:26,-20" name="ContinueWorkflow" to="FC28 - SMS20"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="17" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="17" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <on event="timeout">
         <timer duedate="6 business days" startdate="${TASK_ENTRY_DATE}"/>
         <event-listener class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment">
               <field name="actionName">
                  <string value="ExecuteEventAction"/>
               </field>
         </event-listener>
      </on>
   </task>
   <custom g="1322,3461,195,52" name="FC28 - SMS20" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="FC28"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="1419,3358:" to="Wait before Temp SD">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="1669,5817,220,52" name="Holiday Action Before Suspension FC55" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to=" Check  Working Day Before Suspension"/>
   </custom>
   <decision g="1755,5937,245,48" name=" Check  Working Day Before Suspension">
      <transition g="-5,-20" name="No" to="Wait For 1 Day Before Suspension FC55">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
        <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="5,-18" name="Yes" to="Check Roaming Flag before customer suspension">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="2008,5935,220,52" name="Wait For 1 Day Before Suspension FC55">
      <transition g="2118,5842:-111,1" name="ContinueWorkflow" to="Holiday Action Before Suspension FC55">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="18" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="18" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="18" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="18" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="18" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="1384,5385:-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <decision g="1755,6052,285,48" name="Check Roaming Flag before customer suspension">
      <transition g="-5,-20" name="Yes" to="01-ROAM-15-FCRFSP">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
      <transition g="3,-20" name="Suspension" to="IN Deduction">
         <condition expr="${ROAMING_FLAG==0}"/>
           <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <task continue="async" g="2122,6051,236,52" name="01-ROAM-15-FCRFSP">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-15-FCRFSP"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="32" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="32" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="2239,6206:-105,-17" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="32" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="32" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="32" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="32" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="32" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="32" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="32" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </task>
   <sub-process g="2371,3418,168,52" name="Promise To Pay SubWF" sub-process-key="GSM_SUBWF_PromiseStrategy">
   	 <parameter-out subvar="BP_ACTION_I" var="BP_ACTION_I"/>
      <transition g="-61,-16" name="KeptPromise" to="Check IMPT Rule After Kept Promise">
        <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
         <script expr="${PTP_FLAG}" g="0,0,80,40" var="HOLD_FLAG"/>
           <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
             <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2735,3482:-5,-20" name="CancelPromise" to="Check for Intermediate P2P Flag">
        <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="-5,-20" name="SD" to="Holiday Action Before SD FC40">
        <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="Holiday Action Before Suspension FC55">
        <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="5,-16" name="BrokenPromise" to="03-BP-02-FCBP1">
        <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
          <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2740,3501:-39,-21" name="P2PSetupFailed" to="Check for Intermediate P2P Flag">
        <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
   </sub-process>
   <sub-process g="2652,3217,173,52" name="Payment Plan SubWF" sub-process-key="GSM_SUBWF_PaymentPlanSubWF">
      <transition g="3,-20" name="KeptPromise" to="Check IMPT Rule After Kept Promise">
         <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
     
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
         <script expr="${PTP_FLAG}" g="0,0,80,40" var="HOLD_FLAG"/>
            <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
              <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="CancelPaymentPlan" to="Check for Intermediate P2P Flag">
         <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="2885,3242;2885,3672:-82,24" name="BrokenPromise" to="03-BP-02-FCBP1">
         <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2843,3341:-5,-20" name="PPSetupFailed" to="Check for Intermediate P2P Flag"/>
   </sub-process>
   <state continue="async" g="890,1395,255,52" name="Wait for AutoRelease Max Scheduled Time">
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="1128,1478:-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="1128,1478:-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="42" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release  Suspension">
       <script expr="42" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="42" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
           <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="997,1361;1014,1370:-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time"/>
      <transition g="-30,-49" name="ContinueWorkflow" to="Check State Between Release SD and Suspension">
         <timer duedate="${AUTOTIME}"/>
      </transition>
   </state>
   <decision g="2714,3419,230,48" name="Check IMPT Rule After Kept Promise">
      <transition g="2951,3443;2951,3071;2951,2895:-5,-20" name="No" to="Check Exit Criteria After Kept Promise">
         <condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="2870,3424:-5,-20" name="Yes" to="Check for Intermediate P2P Flag">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <task continue="async" g="2329,3833,250,52" name="03-BP-02-FCBP1">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="03-BP-02-FCBP1"/>
         </field>
      </assignment-handler>
      <transition g="2544,3813:-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="Y" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="Y" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="36" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="36" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="36" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release  Suspension">
        <script expr="36" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="36" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="36" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="36" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="36" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="36" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="2489,3802;2499,3816:-37,-7" name="CancelPaymentPlan" to="03-BP-02-FCBP1"/>
      <transition g="-5,-20" name="2nd_SMS_befSD" to="FC32 - SMS5"/>
      <transition g="-5,-20" name="SMS_befSusp" to="FC48 - SMS21"/>
   </task>
   <decision g="2950,3694,220,48" name="Select PTP_FLAG For Kept Promise">
      <transition to="Wait Before SMS FC15">
         <condition expr="${PTP_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC20">
         <condition expr="${PTP_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Wait Before VRS FC30">
         <condition expr="${PTP_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC31">
         <condition expr="${PTP_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC32">
         <condition expr="${PTP_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC33">
         <condition expr="${PTP_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="Wait before Temp SD">
         <condition expr="${PTP_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="01-ROAM-13-FCRTSD">
         <condition expr="${PTP_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="01-ROAM-14-FCRFSD">
         <condition expr="${PTP_FLAG==&apos;10&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC24">
         <condition expr="${PTP_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="Wait Before FC25">
         <condition expr="${PTP_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition to="05-OD-06-FC25">
         <condition expr="${PTP_FLAG==&apos;13&apos;}"/>
      </transition>
      <transition to="05-OD-05-FC26">
         <condition expr="${PTP_FLAG==&apos;15&apos;}"/>
      </transition>
      <transition to="05-OD-04-FC27">
         <condition expr="${PTP_FLAG==&apos;17&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC21">
         <condition expr="${PTP_FLAG==&apos;19&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC22">
         <condition expr="${PTP_FLAG==&apos;20&apos;}"/>
      </transition>
      <transition to="Wait Before TempSD">
         <condition expr="${PTP_FLAG==&apos;21&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC42">
         <condition expr="${PTP_FLAG==&apos;22&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC43">
         <condition expr="${PTP_FLAG==&apos;23&apos;}"/>
      </transition>
      <transition to="Wait Before FC46">
         <condition expr="${PTP_FLAG==&apos;25&apos;}"/>
      </transition>
      <transition to="05-OD-07-FC46">
         <condition expr="${PTP_FLAG==&apos;26&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC44">
         <condition expr="${PTP_FLAG==&apos;29&apos;}"/>
      </transition>
      <transition to="Wait Before FC47">
         <condition expr="${PTP_FLAG==&apos;30&apos;}"/>
      </transition>
      <transition to="05-OD-08-FC47">
         <condition expr="${PTP_FLAG==&apos;31&apos;}"/>
      </transition>
      <transition to="01-ROAM-15-FCRFSP">
         <condition expr="${PTP_FLAG==&apos;32&apos;}"/>
      </transition>
      <transition to="02-OOPS-11-FCOOPS">
         <condition expr="${PTP_FLAG==&apos;33&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${PTP_FLAG==&apos;34&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Temp SD">
         <condition expr="${PTP_FLAG==&apos;14&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before SD FC40">
         <condition expr="${PTP_FLAG==&apos;16&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension FC55">
         <condition expr="${PTP_FLAG==&apos;18&apos;}"/>
      </transition>
      <transition to="01-ROAM-04-FCRoam">
         <condition expr="${PTP_FLAG==&apos;27&apos;}"/>
      </transition>
      <transition to="04-HOLD-02-FCHOLD">
         <condition expr="${PTP_FLAG==&apos;35&apos;}"/>
      </transition>
      <transition to="Wait before SD FC40">
         <condition expr="${PTP_FLAG==&apos;9&apos;}"/>
      </transition>
      <transition to="Wait Before Customer Suspension FC55 ">
         <condition expr="${PTP_FLAG==&apos;24&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension FC55 ">
         <condition expr="${PTP_FLAG==&apos;28&apos;}"/>
      </transition>
      <transition to="CheckOverdueAmountWith799.99">
         <condition expr="${PTP_FLAG==&apos;44&apos;}"/>
      </transition>
      <transition to="03-BP-02-FCBP1">
         <condition expr="${PTP_FLAG==&apos;36&apos;}"/>
      </transition>
   </decision>
   <task continue="async" g="2094,4095,228,52" name="02-OOPS-11-FCOOPS">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="02-OOPS-11-FCOOPS"/>
         </field>
      </assignment-handler>
      <transition g="2306,4200:-5,-20" name="Installment" to="Reset OOPS Flag">
         <script expr="33" g="0,0,80,40" var="PTP_FLAG"/> 
           <script expr="2" g="0,0,80,40" var="SETOOPS_FLAG"/>     
      </transition>
      <transition g="-5,-20" name="2nd_SMS_befSD" to="Set OOPS Flag"/>
      <transition g="2392,4158:-5,-20" name="PromiseToPay" to="Reset OOPS Flag">
        <script expr="33" g="0,0,80,40" var="PTP_FLAG"/>
          <script expr="1" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="2276,4214:-5,-20" name="Hold" to="Reset OOPS Flag">
        <script expr="33" g="0,0,80,40" var="HOLD_FLAG"/>
          <script expr="3" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="33" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release  Suspension">
        <script expr="33" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="33" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="33" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="33" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="33" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="33" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="Reset OOPS Flag">
        <script expr="4" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SMS_befSusp" to="Set OOPS flag"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag in OOPS State"/>
      <transition g="2369,4168:-5,-20" name="Suspension" to="Reset OOPS Flag">
        <script expr="5" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
   </task>
   <state continue="async" g="1666,6851,230,52" name="Wait 14 Days Before Final Strategy">
      <transition g="2,-14" name="ContinueWorkflow" to="Collection Final Strategy">
         <timer duedate="${14-SUSPENSION_DAYS} business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="34" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="34" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="34" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="34" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="34" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release  Suspension">
        <script expr="34" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="34" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="34" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="34" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="34" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="34" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="1489,6264:-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="1719,6181,120,52" name="IN Deduction" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="IN"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check In Flag Value">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1618,6311,315,52" name="Provisioning Wait for IN Deduction Max. Wait Period">
      <transition g="-5,-20" name="ContinueWorkflow" to="FC55 - Suspension">
      </transition>
      <transition g="1568,6336;1568,6477:5,-9" name="InDeduction" to="FC55 - Suspension"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="51" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="51" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="51" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="51" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
   </state>
   <decision g="1647,4096,225,48" name="Check OOPS or Roaming Report Flag">
      <transition g="-5,-20" name="No" to="02-OOPS-11-FCOOPS">
         <condition expr="${ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="01-ROAM-04-FCRoam">
         <condition expr="${ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <task continue="async" g="1852,3887,201,52" name="01-ROAM-04-FCRoam">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-04-FCRoam"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="2nd_SMS_befSD" to="Set Roaming Report Flag"/>
      <transition g="2109,3922:-5,-20" name="PromiseToPay" to="Reset Roaming Report Flag">
        <script expr="27" g="0,0,80,40" var="PTP_FLAG"/>
          <script expr="1" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Reset Roaming Report Flag">
        <script expr="27" g="0,0,80,40" var="HOLD_FLAG"/>
          <script expr="3" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="27" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release  Suspension">
        <script expr="27" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="27" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="27" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="27" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="27" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="27" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="2086,3874:-5,-20" name="SD" to="Reset Roaming Report Flag">
        <script expr="4" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="2107,3944:-5,-20" name="Suspension" to="Reset Roaming Report Flag">
        <script expr="5" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SMS_befSusp" to="Set Roaming Report flag"/>
      <transition g="2093,3914;2080,3928:-5,-20" name="IMPT" to="01-ROAM-04-FCRoam"/>
      <transition g="2095,3862:-5,-20" name="Installment" to="Reset Roaming Report Flag">
        <script expr="27" g="0,0,80,40" var="PTP_FLAG"/>
          <script expr="2" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
   </task>
   <custom g="2404,4007,125,52" name="Set OOPS Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="FC32 - SMS5"/>
   </custom>
   <custom g="1848,3765,175,52" name="Set Roaming Report Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="FC32 - SMS5"/>
   </custom>
   <custom g="1949,4005,150,52" name="Set OOPS Flag IMPT" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="01-ROAM-04-FCRoam"/>
   </custom>
   <task continue="async" g="418,4948,188,52" name="04-HOLD-02-FCHOLD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="04-HOLD-02-FCHOLD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="35" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="35" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="35" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="35" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release  Suspension">
        <script expr="35" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="35" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="35" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="35" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="35" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="35" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="FC40 - SD">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
        <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-36,-6" name="2nd_SMS_befSD" to="Tickler For Hold Exit"/>
      <transition g="-17,-12" name="SMS_befSusp" to="Tickler for Hold Exit"/>
   </task>
   <decision g="1714,829,205,48" name="Check IMPT Rule After Payment">
      <transition g="-5,-20" name="No" to="Check Exit Criteria After Payment">
         <condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="Check State Between Release SD and Suspension">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="1704,1172,200,48" name="Check Pay Flag After Payment">
      <transition to="Check RBR Rule">
         <condition expr="${PAYNINV_FLAG==&apos;5&apos; || PAYNINV_FLAG==&apos;6&apos; || PAYNINV_FLAG==&apos;7&apos; || PAYNINV_FLAG==&apos;9&apos; || PAYNINV_FLAG==&apos;22&apos; || PAYNINV_FLAG==&apos;25&apos; || PAYNINV_FLAG==&apos;29&apos; || PAYNINV_FLAG==&apos;23&apos;}"/>
      	 <script expr="${PAYNINV_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition to="Check RBR rule">
         <condition expr="${PAYNINV_FLAG==&apos;24&apos; || PAYNINV_FLAG==&apos;28&apos; || PAYNINV_FLAG==&apos;31&apos; || PAYNINV_FLAG==&apos;40&apos; || PAYNINV_FLAG==&apos;26&apos; || PAYNINV_FLAG==&apos;30&apos; || PAYNINV_FLAG==&apos;34&apos;}"/>
      	 <script expr="${PAYNINV_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="1282,1197:" to="Check State Between Release SD and Suspension">
         <condition expr="${PAYNINV_FLAG!=&apos;5&apos; &amp;&amp; PAYNINV_FLAG!=&apos;6&apos; &amp;&amp; PAYNINV_FLAG!=&apos;7&apos; &amp;&amp; PAYNINV_FLAG!=&apos;9&apos; &amp;&amp; PAYNINV_FLAG!=&apos;23&apos; &amp;&amp; PAYNINV_FLAG!=&apos;26&apos; &amp;&amp; PAYNINV_FLAG!=&apos;30&apos; &amp;&amp; PAYNINV_FLAG!=&apos;34&apos; &amp;&amp; PAYNINV_FLAG!=&apos;24&apos; &amp;&amp; PAYNINV_FLAG!=&apos;28&apos; &amp;&amp; PAYNINV_FLAG!=&apos;31&apos; &amp;&amp; PAYNINV_FLAG!=&apos;22&apos; &amp;&amp; PAYNINV_FLAG!=&apos;25&apos; &amp;&amp; PAYNINV_FLAG!=&apos;29&apos; &amp;&amp; PAYNINV_FLAG!=&apos;40&apos;}"/>
      </transition>
   </decision>
   <decision g="1202,1173,190,48" name="Select State After Payment">
      <transition to="Wait Before SMS FC15">
         <condition expr="${PAYNINV_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC20">
         <condition expr="${PAYNINV_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Wait Before VRS FC30">
         <condition expr="${PAYNINV_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC31">
         <condition expr="${PAYNINV_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC32">
         <condition expr="${PAYNINV_FLAG==&apos;5&apos; || PTP_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC33">
         <condition expr="${PAYNINV_FLAG==&apos;6&apos; || PTP_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="Wait before Temp SD">
         <condition expr="${PAYNINV_FLAG==&apos;7&apos; || PTP_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Temp SD">
         <condition expr="${PAYNINV_FLAG==&apos;14&apos;}"/>
      </transition>
      <transition to="01-ROAM-13-FCRTSD">
         <condition expr="${PAYNINV_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before SD FC40">
         <condition expr="${PAYNINV_FLAG==&apos;16&apos;}"/>
      </transition>
      <transition to="01-ROAM-14-FCRFSD">
         <condition expr="${PAYNINV_FLAG==&apos;10&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC24">
         <condition expr="${PAYNINV_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="Wait Before FC25">
         <condition expr="${PAYNINV_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition to="05-OD-06-FC25">
         <condition expr="${PAYNINV_FLAG==&apos;13&apos;}"/>
      </transition>
      <transition to="05-OD-05-FC26">
         <condition expr="${PAYNINV_FLAG==&apos;15&apos;}"/>
      </transition>
      <transition to="05-OD-04-FC27">
         <condition expr="${PAYNINV_FLAG==&apos;17&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC21">
         <condition expr="${PAYNINV_FLAG==&apos;19&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC22">
         <condition expr="${PAYNINV_FLAG==&apos;20&apos;}"/>
      </transition>
      <transition to="Wait Before TempSD">
         <condition expr="${PAYNINV_FLAG==&apos;21&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC42">
         <condition expr="${PAYNINV_FLAG==&apos;22&apos; || PTP_FLAG==&apos;22&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC43">
         <condition expr="${PAYNINV_FLAG==&apos;23&apos; || PTP_FLAG==&apos;23&apos;}"/>
      </transition>
      <transition to="Wait Before FC46">
         <condition expr="${PAYNINV_FLAG==&apos;25&apos; || PTP_FLAG==&apos;25&apos;}"/>
      </transition>
      <transition to="05-OD-07-FC46">
         <condition expr="${PAYNINV_FLAG==&apos;26&apos; || PTP_FLAG==&apos;26&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC44">
         <condition expr="${PAYNINV_FLAG==&apos;29&apos; || PTP_FLAG==&apos;29&apos;}"/>
      </transition>
      <transition to="Wait Before FC47">
         <condition expr="${PAYNINV_FLAG==&apos;30&apos; || PTP_FLAG==&apos;30&apos;}"/>
      </transition>
      <transition to="05-OD-08-FC47">
         <condition expr="${PAYNINV_FLAG==&apos;31&apos; || PTP_FLAG==&apos;31&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension FC55">
         <condition expr="${PAYNINV_FLAG==&apos;18&apos;}"/>
      </transition>
      <transition to="01-ROAM-15-FCRFSP">
         <condition expr="${PAYNINV_FLAG==&apos;32&apos;}"/>
      </transition>
      <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${PAYNINV_FLAG==&apos;37&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${PAYNINV_FLAG==&apos;34&apos; || PTP_FLAG==&apos;34&apos;}"/>
      </transition>
      <transition to="01-ROAM-04-FCRoam">
         <condition expr="${PAYNINV_FLAG==&apos;27&apos;}"/>
      </transition>
      <transition to="02-OOPS-11-FCOOPS">
         <condition expr="${PAYNINV_FLAG==&apos;33&apos;}"/>
      </transition>
      <transition to="03-BP-02-FCBP1">
         <condition expr="${PAYNINV_FLAG==&apos;36&apos;}"/>
      </transition>
      <transition to="04-HOLD-02-FCHOLD">
         <condition expr="${PAYNINV_FLAG==&apos;35&apos;}"/>
      </transition>
      <transition to="ActionError Wait">
         <condition expr="${PAYNINV_FLAG==&apos;40&apos;}"/>
      </transition>
      <transition to="Wait before SD FC40">
         <condition expr="${PAYNINV_FLAG==&apos;9&apos; || PTP_FLAG==&apos;9&apos;}"/>
      </transition>
      <transition to="Wait Before Customer Suspension FC55 ">
         <condition expr="${PAYNINV_FLAG==&apos;24&apos; || PTP_FLAG==&apos;24&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension FC55 ">
         <condition expr="${PAYNINV_FLAG==&apos;28&apos; || PTP_FLAG==&apos;28&apos;}"/>
      </transition>
      <transition to="Early Entry Wait">
         <condition expr="${PAYNINV_FLAG==&apos;41&apos;}"/>
      </transition>
      <transition to="CheckOverdueAmountWith799.99">
         <condition expr="${PAYNINV_FLAG==&apos;44&apos;}"/>
      </transition>
      <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${PAYNINV_FLAG==&apos;51&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Forever After SD">
         <condition expr="${PAYNINV_FLAG==&apos;52&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Forever After Suspension">
         <condition expr="${PAYNINV_FLAG==&apos;53&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Forever After Release">
         <condition expr="${PAYNINV_FLAG==&apos;54&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Forever After Release1">
         <condition expr="${PAYNINV_FLAG==&apos;55&apos;}"/>
      </transition>
   </decision>
   <custom g="44,5398,110,52" name="Release SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="3" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <custom g="121,5654,195,52" name="Release  Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSuspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="4" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <custom g="569,5321,200,52" name="Release Suspension1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSuspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="5" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Between Release Suspension and Release SD"/>
   </custom>
   <custom g="612,5581,115,52" name="Release SD1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="6" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <decision g="2806,2584,265,48" name="CheckPTP Flag  After Kept Promise For RBR">
      <transition g="3034,2608;3034,3717:" to="Select PTP_FLAG For Kept Promise">
         <condition expr="${PTP_FLAG!=&apos;5&apos; &amp;&amp; PTP_FLAG!=&apos;6&apos; &amp;&amp; PTP_FLAG!=&apos;7&apos; &amp;&amp; PTP_FLAG!=&apos;9&apos; &amp;&amp; PTP_FLAG!=&apos;23&apos; &amp;&amp; PTP_FLAG!=&apos;26&apos; &amp;&amp; PTP_FLAG!=&apos;30&apos; &amp;&amp; PTP_FLAG!=&apos;34&apos; &amp;&amp; PTP_FLAG!=&apos;24&apos; &amp;&amp; PTP_FLAG!=&apos;28&apos; &amp;&amp; PTP_FLAG!=&apos;31&apos; &amp;&amp; PTP_FLAG!=&apos;22&apos; &amp;&amp; PTP_FLAG!=&apos;25&apos; &amp;&amp; PTP_FLAG!=&apos;29&apos;}"/>
      </transition>
      <transition to="Check RBR Rule">
         <condition expr="${PTP_FLAG==&apos;5&apos; || PTP_FLAG==&apos;6&apos; || PTP_FLAG==&apos;7&apos; || PTP_FLAG==&apos;9&apos; || PTP_FLAG==&apos;22&apos; || PTP_FLAG==&apos;25&apos; || PTP_FLAG==&apos;29&apos; || PTP_FLAG==&apos;23&apos;}"/>
      </transition>
      <transition to="Check RBR rule">
         <condition expr="${PTP_FLAG==&apos;24&apos; || PTP_FLAG==&apos;28&apos; || PTP_FLAG==&apos;31&apos; || PTP_FLAG==&apos;26&apos; || PTP_FLAG==&apos;30&apos; || PTP_FLAG==&apos;34&apos;}"/>
      </transition>
   </decision>
   <decision g="415,5250,190,48" name="Select State After Release">
      <transition to="Wait Before SMS FC42">
         <condition expr="${RELEASE_FLAG==&apos;22&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC43">
         <condition expr="${RELEASE_FLAG==&apos;23&apos;}"/>
      </transition>
      <transition to="Wait Before FC46">
         <condition expr="${RELEASE_FLAG==&apos;25&apos;}"/>
      </transition>
      <transition to="05-OD-07-FC46">
         <condition expr="${RELEASE_FLAG==&apos;26&apos;}"/>
      </transition>
      <transition to="Wait Before SMS FC44">
         <condition expr="${RELEASE_FLAG==&apos;29&apos;}"/>
      </transition>
      <transition to="Wait Before FC47">
         <condition expr="${RELEASE_FLAG==&apos;30&apos;}"/>
      </transition>
      <transition to="05-OD-08-FC47">
         <condition expr="${RELEASE_FLAG==&apos;31&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension FC55">
         <condition expr="${RELEASE_FLAG==&apos;18&apos;}"/>
      </transition>
      <transition to="01-ROAM-15-FCRFSP">
         <condition expr="${RELEASE_FLAG==&apos;32&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${RELEASE_FLAG==&apos;34&apos;}"/>
      </transition>
      <transition to="01-ROAM-04-FCRoam">
         <condition expr="${RELEASE_FLAG==&apos;27&apos;}"/>
      </transition>
      <transition to="02-OOPS-11-FCOOPS">
         <condition expr="${RELEASE_FLAG==&apos;33&apos;}"/>
      </transition>
      <transition to="03-BP-02-FCBP1">
         <condition expr="${RELEASE_FLAG==&apos;36&apos;}"/>
      </transition>
      <transition to="04-HOLD-02-FCHOLD">
         <condition expr="${RELEASE_FLAG==&apos;35&apos;}"/>
      </transition>
      <transition to="Wait Before Customer Suspension FC55 ">
         <condition expr="${RELEASE_FLAG==&apos;24&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension FC55 ">
         <condition expr="${RELEASE_FLAG==&apos;28&apos;}"/>
      </transition>
      <transition to="Wait for AutoRelease Max Scheduled Time">
         <condition expr="${RELEASE_FLAG==&apos;42&apos;}"/>
      </transition>
      <transition to="Wait For 6 hours">
         <condition expr="${RELEASE_FLAG==&apos;43&apos;}"/>
      </transition>
   </decision>
   <decision g="1978,464,130,48" name="Check RBR Rule">
      <handler class="com.mobinil.decision.handler.RBRValidator"/>
      <transition g="-12,-20" name="FCRBR1A" to="Check Open Amount After RBR 1A">
       <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2310,488:-150,-17" name="FCRBR1B" to="Check Open Amount After RBR 1B">
       <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2002,435;1463,435:-11,-20" name="F" to="Check Autorelease Flag"/>
      <transition g="1463,488:187,-18" name="FCRBR2A" to="Check Autorelease Flag"/>
      <transition g="1921,528;1463,528:-53,-20" name="FCRBR2B" to="Check Autorelease Flag"/>
   </decision>
   <decision g="2003,867,130,48" name="Check RBR rule">
      <handler class="com.mobinil.decision.handler.RBRValidator"/>
      <transition g="-12,-20" name="FCRBR1A" to="Check Open Amount after RBR 1A">
        <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2243,891:-24,37" name="FCRBR1B" to="Check Open Amount after RBR 1B">
        <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2465,891:-22,40" name="FCRBR2A" to="Check Open Amount after RBR 2A">
        <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2680,891:-20,38" name="FCRBR2B" to="Check Open Amount after RBR 2B">
        <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2027,711;1463,711:-11,-20" name="F" to="Check Autorelease Flag"/>
   </decision>
   <decision g="2806,2835,250,48" name="Check Exit Criteria After Kept Promise">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="3123,2859;3123,3712;3123,4939;3123,6225;3123,6857;3123,7064:-11,-20" name="T" to="Wait For 12 hours Before Exit">
       <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-12,-20" name="F" to="Check for Intermediate P2P Flag Before RBR"/>
   </decision>
   <decision g="1714,1054,225,48" name="Check Exit Criteria After Payment">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="1315,1078;1315,1132;1315,1665;1315,2554;1315,4065;1315,5698;1315,6788;1315,7064:-11,-20" name="T" to="Wait For 12 hours Before Exit">
       <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-12,-20" name="F" to="Check Pay Flag After Payment"/>
   </decision>
   <state continue="async" g="1445,7038,200,52" name="Wait For 12 hours Before Exit">
      <transition g="1545,7167:-5,-20" name="ContinueWorkflow" to="Collection Ended">
         <timer duedate="12 hours" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="1566,7000;1579,7015:-5,-20" name="Payment" to="Wait For 12 hours Before Exit"/>
      <transition g="1605,7009;1615,7025:-34,-4" name="InvoiceBalance" to="Wait For 12 hours Before Exit"/>
      <transition g="1453,7009;1444,7021:-35,-16" name="AutoRelease" to="Wait For 12 hours Before Exit"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-34,-4" name="Invoice" to="Check Exit criteria"/>
   </state>
   <custom g="145,6285,115,52" name="ActionError" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="ActionError Wait">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="418,6286,140,52" name="ActionError Wait">
      <transition g="-47,-18" name="ContinueWorkflow" to="Select State After ActionError Wait">
         <timer duedate="12 hours" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="40" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="40" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="40" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="40" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="40" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
   </state>
   <decision g="703,6287,235,48" name="Select State After ActionError Wait">
      <transition to="FC40 - SD">
         <condition expr="${ERROR_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Release SD">
         <condition expr="${ERROR_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="Release  Suspension">
         <condition expr="${ERROR_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Release Suspension1">
         <condition expr="${ERROR_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Release SD1">
         <condition expr="${ERROR_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="FC55 - Suspension">
         <condition expr="${ERROR_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Collection Ended">
         <condition expr="${ERROR_FLAG==&apos;10&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="1486,1295,165,52" name="Wait For 6 hours">
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment"/>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      	<script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="43" g="0,0,80,40" var="RELEASE_FLAG"/>
       	<script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release  Suspension">
       <script expr="43" g="0,0,80,40" var="RELEASE_FLAG"/>
       	<script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="43" g="0,0,80,40" var="RELEASE_FLAG"/>
       	<script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="1552,1252;1538,1265:-5,-20" name="AutoRelease" to="Wait For 6 hours"/>
      <transition g="-5,-20" name="ContinueWorkflow" to="Check State Between Release SD and Suspension">
         <timer duedate="6 hours"/>
           <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule after Invoice"/>
   </state>
   <decision g="1442,1102,170,48" name="Check Autorelease Flag">
      <transition to="Check State Between Release SD and Suspension">
         <condition expr="${AUTORELEASE_FLAG==&apos;N&apos;}"/>
      </transition>
      <transition g="1513,1004:" to="Check Provisioning Wait Flag">
         <condition expr="${AUTORELEASE_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
    <state continue="async" g="874,86,150,52" name="Wait For Migration">
      <transition g="1258,112:-103,5" name="MigComplete" to="Check Diferent State For Migration">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="7,-11" name="ContinueWorkflow" to="Update Workflow Type"/>
   </state>
   <decision g="1234,204,230,48" name="Check Diferent State For Migration">
   <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Writeoff&apos;}"/>
      </transition>
      <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Deactivation&apos;}"/>
      </transition>
      <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Suspension&apos; &amp;&amp; IXC_SUB_STEP!=&apos;WBFS&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${IXC_STEP==&apos;Suspension&apos; &amp;&amp; IXC_SUB_STEP==&apos;WBFS&apos;}"/>
      </transition>
      <transition to="Payment Plan SubWF">
         <condition expr="${IXC_STEP==&apos;PaymentPlan&apos;}"/>
            <script expr="17" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition to="Promise To Pay SubWF">
         <condition expr="${IXC_STEP==&apos;P2P&apos;}"/>
            <script expr="17" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${IXC_STEP==&apos;Hold&apos;}"/>
           <script expr="17" g="0,0,80,40" var="HOLD_FLAG"/>
           <script expr="Hold_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition to="Wait Before SMS FC15">
         <condition expr="${IXC_STEP==&apos;FC10&apos;}"/>
      </transition>
      <transition to="CheckCustomerAge">
         <condition expr="${IXC_STEP==&apos;FC20&apos;}"/>
      </transition>
      <transition to="05-OD-06-FC25">
         <condition expr="${IXC_STEP==&apos;05-OD-06-FC25&apos;}"/>
      </transition>
      <transition to="05-OD-05-FC26">
         <condition expr="${IXC_STEP==&apos;05-OD-05-FC26&apos;}"/>
      </transition>
      <transition to="05-OD-04-FC27">
         <condition expr="${IXC_STEP==&apos;05-OD-04-FC27&apos;}"/>
      </transition>
      <transition to="CheckOverdueAmountWith799.99">
         <condition expr="${IXC_STEP==&apos;FC40&apos; || IXC_STEP==&apos;SD&apos;}"/>
      </transition>
      <transition to="05-OD-07-FC46">
         <condition expr="${IXC_STEP==&apos;05-OD-07-FC46&apos;}"/>
      </transition>
      <transition to="05-OD-08-FC47">
         <condition expr="${IXC_STEP==&apos;05-OD-08-FC47&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${IXC_STEP==&apos;FC55&apos;}"/>
      </transition>
      <transition to="INVALID CUSTOMER STATE">
         <condition expr="${IXC_STEP==&apos;Invalid&apos; || IXC_STEP==&apos;Invalid_PP&apos; || IXC_STEP==&apos;Invalid_INS&apos; || IXC_STEP==&apos;Invalid_PAY&apos;}"/>
      </transition>
      <transition to="Early Entry Action">
         <condition expr="${IXC_STEP==&apos;FirstStep&apos;}"/>
      </transition>
   </decision>
   <decision g="631,203,155,48" name="Check Workflow Type">
      <transition g="808,111:-5,-20" name="IXC_Entry" to="Wait For Migration">
         <condition expr="${WORKFLOW_TYPE==&apos;M&apos;}"/>
      </transition>
      <transition g="3,-12" name="IXC_Entry" to="Early Entry Action">
         <condition expr="${WORKFLOW_TYPE==&apos;N&apos;}"/>
      </transition>
   </decision>
   <custom g="1023,6951,170,52" name="INVALID CUSTOMER STATE" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="Wait to Fix Customer Data"/>
   </custom>
   <state continue="async" g="1016,7054,185,52" name="Wait to Fix Customer Data">
      <transition g="1108,7167;1166,7167:-22,-33" name="IXC_Exit" to="Collection Ended"/>
   </state>
   <custom g="581,318,150,52" name="Early Entry Action" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="EarlyEntryAction"/>
      </field>
      <transition to="Early Entry Wait"/>
   </custom>
   <state continue="async" g="554,430,203,52" name="Early Entry Wait">
      <transition g="-5,-20" name="ContinueWorkflow" to="FC10 - SMS1">
         <timer duedate="0 business minute" startdate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
   </state>
   <custom g="547,4007,205,52" name="Schedule Job Action Before SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ScheduleJobAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="DUE_DAYS"/>
               </key>
               <value>
                  <object expr="1"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait before SD FC40"/>
   </custom>
   <custom g="892,5641,270,52" name="Schedule Job Action Before Suspension FC55" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ScheduleJobAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="DUE_DAYS"/>
               </key>
               <value>
                  <object expr="6"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before Customer Suspension FC55 "/>
   </custom>
   <custom g="1655,5466,245,52" name="Schedule Job Action Before Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ScheduleJobAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="DUE_DAYS"/>
               </key>
               <value>
                  <object expr="2"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before Suspension FC55 "/>
   </custom>
   <custom g="426,4821,170,52" name="Tickler For Hold Entry" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold entry on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Entry"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="04-HOLD-02-FCHOLD"/>
   </custom>
   <custom g="227,5060,165,52" name="Tickler For Hold Exit" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold exit on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Exit"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="FC32 - SMS5"/>
   </custom>
   <custom g="430,5094,165,52" name="Tickler for Hold Exit" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold exit on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Exit"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="FC48 - SMS21"/>
   </custom>
   <custom g="835,4695,155,52" name="Tickler For FC40 SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <transition g="912,4778:" to="CheckOverdueAmountWith799.99"/>
   </custom>
   <custom g="1677,6702,205,52" name="Tickler For FC55 - Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <transition to="Wait 14 Days Before Final Strategy">
        <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="2093,3769,175,52" name="Set Roaming Report flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="FC48 - SMS21"/>
   </custom>
   <custom g="2419,4096,125,52" name="Set OOPS flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="FC48 - SMS21"/>
   </custom>
   <decision g="1978,580,210,48" name="Check Open Amount After RBR 1A">
      <transition g="-5,-20" name="Yes" to="FC30 - VRS">
         <condition expr="${CUSTOMER_AMOUNT&lt;400}"/>
      </transition>
      <transition g="-5,-20" name="No" to="FC24 - SMS4">
         <condition expr="${CUSTOMER_AMOUNT&gt;=400}"/>
      </transition>
   </decision>
   <decision g="2286,580,210,48" name="Check Open Amount After RBR 1B">
      <transition g="-5,-20" name="Yes" to="FC30 - VRS">
         <condition expr="${CUSTOMER_AMOUNT&lt;400}"/>
      </transition>
      <transition g="-5,-20" name="No" to="FC24 - SMS4">
         <condition expr="${CUSTOMER_AMOUNT&gt;=400}"/>
      </transition>
   </decision>
   <decision g="2003,1009,210,48" name="Check Open Amount after RBR 1A">
      <transition g="-5,-20" name="Yes" to="FC30 - VRS">
         <condition expr="${CUSTOMER_AMOUNT&lt;400}"/>
      </transition>
      <transition g="-5,-20" name="No" to="FC24 - SMS4">
         <condition expr="${CUSTOMER_AMOUNT&gt;=400}"/>
      </transition>
   </decision>
   <decision g="2219,1008,210,48" name="Check Open Amount after RBR 1B">
      <transition g="-5,-20" name="Yes" to="FC30 - VRS">
         <condition expr="${CUSTOMER_AMOUNT&lt;400}"/>
      </transition>
      <transition g="-5,-20" name="No" to="FC24 - SMS4">
         <condition expr="${CUSTOMER_AMOUNT&gt;=400}"/>
      </transition>
   </decision>
   <decision g="2441,1004,210,48" name="Check Open Amount after RBR 2A">
      <transition g="-5,-20" name="Yes" to="FC42 - SMS7">
         <condition expr="${CUSTOMER_AMOUNT&lt;700}"/>
      </transition>
      <transition g="-5,-20" name="No" to="05-OD-07-FC46">
         <condition expr="${CUSTOMER_AMOUNT&gt;=700}"/>
      </transition>
   </decision>
   <decision g="2656,1000,210,48" name="Check Open Amount after RBR 2B">
      <transition g="-5,-20" name="Yes" to="FC42 - SMS7">
         <condition expr="${CUSTOMER_AMOUNT&lt;700}"/>
      </transition>
      <transition g="-5,-20" name="No" to="05-OD-07-FC46">
         <condition expr="${CUSTOMER_AMOUNT&gt;=700}"/>
      </transition>
   </decision>
   <state continue="async" g="492,5453,355,52" name="Provisioning Wait Between Release Suspension and Release SD">
      <transition g="-5,-20" name="ContinueWorkflow" to="Release SD1">
       <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
			<script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
			 <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
		</transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
     </transition>
   </state>
   <decision g="2188,4004,295,48" name="Check OOPS or Roaming Report Flag in OOPS State">
      <transition g="-5,-20" name="Yes" to="Set OOPS Flag IMPT">
         <condition expr="${ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
      <transition g="2316,4028;2316,4079:-5,-20" name="No" to="02-OOPS-11-FCOOPS">
         <condition expr="${ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="2981,3424,215,48" name="Check for Intermediate P2P Flag">
      <transition g="3005,3663:" to="Select PTP_FLAG For Kept Promise">
         <condition expr="${PTP_FLAG_I==&apos;N&apos;}"/>
      </transition>
      <transition to="03-BP-02-FCBP1">
         <condition expr="${PTP_FLAG_I==&apos;Y&apos;}"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
   </decision>
   <decision g="2806,2706,270,48" name="Check for Intermediate P2P Flag Before RBR">
      <transition to="CheckPTP Flag  After Kept Promise For RBR">
         <condition expr="${PTP_FLAG_I==&apos;N&apos;}"/>
      </transition>
      <transition g="2453,2730:" to="03-BP-02-FCBP1">
         <condition expr="${PTP_FLAG_I==&apos;Y&apos;}"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
   </decision>
   <custom g="868,180,160,52" name="Update Workflow Type" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="WORKFLOW_TYPE"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Early Entry Action"/>
   </custom>
   <custom g="2143,3871,185,52" name="Reset Roaming Report Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check Different Events RRPT"/>
   </custom>
   <decision g="2262,3946,195,48" name="Check Different Events RRPT">
      <transition to="Promise To Pay SubWF">
         <condition expr="${SETRRPT_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Payment Plan SubWF">
         <condition expr="${SETRRPT_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${SETRRPT_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="FC40 - SD">
         <condition expr="${SETRRPT_FLAG==&apos;4&apos;}"/>
           <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition to="IN Deduction">
         <condition expr="${SETRRPT_FLAG==&apos;5&apos;}"/>
           <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <custom g="2359,4209,181,52" name="Reset OOPS Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check Different Events OOPS"/>
   </custom>
   <decision g="2425,4306,195,48" name="Check Different Events OOPS">
    <transition to="Promise To Pay SubWF">
         <condition expr="${SETOOPS_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Payment Plan SubWF">
         <condition expr="${SETOOPS_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${SETOOPS_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="FC40 - SD">
         <condition expr="${SETOOPS_FLAG==&apos;4&apos;}"/>
           <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition to="IN Deduction">
         <condition expr="${SETOOPS_FLAG==&apos;5&apos;}"/>
           <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <state continue="async" g="533,4695,230,52" name="Provisioning Wait Forever After SD">
      <transition g="-43,-36" name="ContinueWorkflow" to="Tickler For FC40 SD"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="44" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="44" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="52" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="52" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="52" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="52" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
   </state>
   <state continue="async" g="1641,6578,270,52" name="Provisioning Wait Forever After Suspension">
      <transition g="-5,-20" name="ContinueWorkflow" to="Tickler For FC55 - Suspension"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="34" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="34" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="53" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="53" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="53" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="53" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
   </state>
   <decision g="458,5686,180,48" name="Check Wait After Release">
      <transition to="Provisioning Wait Forever After Release">
         <condition expr="${RELEASE_FLAG!=&apos;42&apos; &amp;&amp; RELEASE_FLAG!=&apos;43&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Forever After Release1">
         <condition expr="${RELEASE_FLAG==&apos;42&apos; || RELEASE_FLAG==&apos;43&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="237,5861,255,52" name="Provisioning Wait Forever After Release">
      <transition g="-5,-20" name="ContinueWorkflow" to="Select State After Release"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="${RELEASE_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="${RELEASE_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="54" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
      <script expr="54" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
      <script expr="54" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
      <script expr="54" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
   </state>
   <state continue="async" g="610,5854,260,52" name="Provisioning Wait Forever After Release1">
      <transition g="-5,-20" name="ContinueWorkflow" to="Select State After Release"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      	<script expr="55" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
        <script expr="55" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
       <script expr="55" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
       <script expr="55" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
   </state>
   <decision g="1202,1096,285,48" name="Check State Between Release SD and Suspension">
      <transition to="Select State After Payment">
         <condition expr="${RELEASEINMID_FLAG==&apos;N&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Between Release Suspension and Release SD">
         <condition expr="${RELEASEINMID_FLAG==&apos;Y&apos;}"/>
           <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
   </decision>
   <decision g="1393,6810,155,48" name="Check Exit criteria">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="1512,6917:-12,-20" name="T" to="Wait For 12 hours Before Exit"/>
      <transition g="-11,-20" name="F" to="Early Entry Action"/>
   </decision>
   <decision g="1622,6233,155,48" name="Check In Flag Value">
      <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${IN_FLAG==&apos;T&apos;}"/>
      </transition>
      <transition g="1542,6348:" to="FC55 - Suspension">
         <condition expr="${IN_FLAG==&apos;F&apos;}"/>
      </transition>
   </decision>
    <decision g="1049,20,115,48" name="CheckAmount">
   <transition g="-5,-20" name="Yes" to="Collection Started">
         <condition expr="${CUSTOMER_AMOUNT &gt;= 25}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait For 12 hours Before Exit">
         <condition expr="${CUSTOMER_AMOUNT &lt; 25}"/>
      </transition>
   </decision>
   <decision g="792,5,180,48" name="Check for Entry Criteria">
   <handler class="com.mobinil.decision.handler.EntryCriteriaValidator"/>
    <transition g="-12,-20" name="T" to="CheckAmount"/>
       <transition g="-11,-20" name="F" to="Wait For 12 hours Before Exit"/>
   </decision>
   <decision g="2115,1261,205,48" name="Check IMPT Rule after Invoice">
      <transition g="-21,-20" name="No" to="Check Exit Criteria after Invoice">
      	<condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-23,-20" name="Yes" to="Check State Between Release SD and Suspension">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   
   <decision g="2113,1410,225,48" name="Check Exit Criteria after Invoice">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="-12,-20" name="T" to="Wait For 12 hours Before Exit">
      	<script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-11,-20" name="F" to="Wait For 6 hours"/>
   </decision>
   <decision g="1343,996,200,48" name="Check Provisioning Wait Flag">
      <transition to="Check State Between Release SD and Suspension">
         <condition expr="${PAYNINV_FLAG==&apos;55&apos;}"/>
      </transition>
      <transition g="1401,1179:" to="Wait For 6 hours">
         <condition expr="${PAYNINV_FLAG!=&apos;55&apos;}"/>
      </transition>
   </decision>
</process>