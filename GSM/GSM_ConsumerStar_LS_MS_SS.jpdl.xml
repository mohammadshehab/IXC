<?xml version="1.0" encoding="UTF-8"?>

<process exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler" name="GSM_ConsumerStar_LS_MS_SS" xmlns="http://jbpm.org/4.0/jpdl">
   <start continue="async" g="504,73,48,48" name="start1">
      <transition to="Check Workflow Type">
       <script expr="12 hours" g="0,0,80,40" var="AUTOTIME"/>
         <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
            <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
             <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
   </start>
   <custom g="410,606,235,52" name="LS10 - SMS1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="LS10"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS LS15">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="380,725,295,52" name="Wait Before SMS LS15">
      <transition g="-8,-15" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="1" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-126,4" name="ContinueWorkflow" to="LS15 - SMS2">
         <timer duedate="7 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="1" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="1" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="1" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="109,1420:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="56,2236:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="410,870,235,52" name="LS15 - SMS2" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="LS15"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS LS20">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="377,981,300,52" name="Wait Before SMS LS20">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="2" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-129,1" name="ContinueWorkflow" to="LS20 - SMS18">
         <timer duedate="4 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="2" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="2" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="2" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="110,1455:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="57,2233:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="408,1151,240,52" name="LS20 - SMS18" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="LS20"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before Temp SD">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="442,1289,173,52" name="Wait Before Temp SD">
      <transition g="-117,-1" name="ContinueWorkflow" to="Holiday Action Before Temp SD">
         <timer duedate="4 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="3" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="3" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="126,1443:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="65,2233:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="425,1757,211,52" name="Temp Soft Disconnection" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="Load Distribution Action Before SD">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="401,1982,260,52" name="Wait Before SD LS45">
      <transition g="-110,-2" name="ContinueWorkflow" to="Holiday Action Before SD LS45">
         <timer duedate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="5" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="5" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="5" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="5" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="234,2147:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="98,2865:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <decision g="506,2332,280,48" name="Check Roaming Flag Before Soft Disconnection">
      <transition g="-5,-20" name="Yes" to="01-ROAM-20-LSRFSD">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
      <transition g="-18,-19" name="SD" to="LS45 - SD">
         <condition expr="${ROAMING_FLAG==0}"/>
          <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <custom g="423,2430,215,52" name="LS45 - SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="SD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="1" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Forever After SD">
      </transition>
   </custom>
   <state continue="async" g="408,2781,245,52" name="Wait Before SMS LS46">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-130,-3" name="ContinueWorkflow" to="LS 46 - SMS7">
         <timer duedate="3 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="7" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-9,-17" name="Hold" to="Tickler For Hold Entry">
        <script expr="7" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="7" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="474,2598:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="242,3153:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="403,2902,255,52" name="LS 46 - SMS7" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="LS46"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS LS48">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="408,3096,245,52" name="Wait Before SMS LS48">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="8" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-126,-11" name="ContinueWorkflow" to="LS48 - SMS19">
         <timer duedate="2 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="8" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="8" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="8" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="8" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="374,3039:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="341,3362:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="401,3206,260,52" name="LS48 - SMS19" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="LS48"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Load Distribution Action Before Suspension">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="413,3434,235,52" name="Wait Before Suspension LS55">
      <transition g="-121,0" name="ContinueWorkflow" to="Holiday Action Before Suspension LS55">
         <timer duedate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="9" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="9" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="9" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="324,2927:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="354,3741:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <decision g="506,3785,240,48" name="Check Roaming Flag Before Suspension">
      <transition g="-5,-20" name="Yes" to="01-ROAM-21-LSRFSP">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
      <transition g="-61,-16" name="Suspension" to="IN Deduction">
         <condition expr="${ROAMING_FLAG==0}"/>
          <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <sub-process g="419,4760,220,52" name="Collection Final Strategy" sub-process-key="GSM_SUBWF_ConsumerFinalStrategy">
      <transition g="3,-19" name="IXC_Exit" to="Collection Ended"/>
   </sub-process>
   <task continue="async" g="968,2331,198,52" name="01-ROAM-20-LSRFSD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-20-LSRFSD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="6" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="6" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="1067,2540:-106,-17" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="6" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="6" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </task>
   <task continue="async" g="937,3783,217,52" name="01-ROAM-21-LSRFSP">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-21-LSRFSP"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="10" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="10" g="0,0,80,40" var="PTP_FLAG"/>      
      </transition>
      <transition g="1045,3990:-154,-19" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="10" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="10" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="10" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </task>
   <end g="506,5079,75,65" name="end"/>
   <custom g="426,1433,205,52" name="Holiday Action Before Temp SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to="Check Working Day Before Temp SD"/>
   </custom>
   <decision g="506,1534,220,48" name="Check Working Day Before Temp SD">
      <transition g="-22,-17" name="Yes" to="Check Roaming Flag Before Temp SD">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait For 1 Day Before Temp SD">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <decision g="506,1635,225,48" name="Check Roaming Flag Before Temp SD">
      <transition g="-5,-20" name="Yes" to="01-ROAM-19-LSRFTSD">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Temp Soft Disconnection">
         <condition expr="${ROAMING_FLAG==0}"/>
      </transition>
   </decision>
   <state continue="async" g="769,1532,205,52" name="Wait For 1 Day Before Temp SD">
      <transition g="871,1458:-101,2" name="ContinueWorkflow" to="Holiday Action Before Temp SD">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="13" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="13" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="13" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="13" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <task continue="async" g="917,1633,240,52" name="01-ROAM-19-LSRFTSD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-19-LSRFTSD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
         <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>     
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="4" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="4" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1037,1783:-113,-15" name="ContinueWorkflow" to="Temp Soft Disconnection"/>
   </task>
   <custom g="440,2125,180,52" name="Holiday Action Before SD LS45" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to="Check Working Day Before SD"/>
   </custom>
   <decision g="506,2233,195,48" name="Check Working Day Before SD">
      <transition g="-20,-17" name="Yes" to="Check Roaming Flag Before Soft Disconnection">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait For 1 Day Before SD LS45">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <state continue="async" g="833,2231,180,52" name="Wait For 1 Day Before SD LS45">
      <transition g="923,2151:-101,0" name="ContinueWorkflow" to="Holiday Action Before SD LS45">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="14" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="14" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="14" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="14" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="408,3546,244,52" name="Holiday Action Before Suspension LS55" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to=" Check  Working Day Before Suspension"/>
   </custom>
   <decision g="506,3670,245,48" name=" Check  Working Day Before Suspension">
      <transition g="-27,-22" name="Yes" to="Check Roaming Flag Before Suspension">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait For 1 Day Before Suspension LS55">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <custom g="424,4251,213,52" name="LS55 - Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="Suspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="2" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Forever After Suspension">
      </transition>
   </custom>
   <state continue="async" g="779,3669,246,52" name="Wait For 1 Day Before Suspension LS55">
      <transition g="901,3571:-100,2" name="ContinueWorkflow" to="Holiday Action Before Suspension LS55">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="15" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="15" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="15" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="15" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="15" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="15" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <state continue="async" g="1106,611,255,52" name="Wait for AutoRelease Max Scheduled Time">
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="1401,624:-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="1401,624:-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
       <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="22" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
        <script expr="22" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="22" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="1175,584;1164,593:-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time"/>
      <transition g="1925,637:-107,-19" name="ContinueWorkflow" to="Check State Between Release SD and Suspension">
         <timer duedate="${AUTOTIME}"/>
      </transition>
   </state>
   <sub-process g="1793,2159,180,52" name="Promise To Pay SubWF" sub-process-key="GSM_SUBWF_PromiseStrategy">
      <transition g="-5,-20" name="KeptPromise" to="Check IMPT Rule After Kept Promise">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
         <script expr="${PTP_FLAG}" g="0,0,80,40" var="HOLD_FLAG"/>
            <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
              <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="CancelPromise" to="Check for Intermediate P2P Flag">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="-5,-20" name="SD" to="Holiday Action Before SD LS45">
        <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="Holiday Action Before Suspension LS55">
        <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="5,-19" name="BrokenPromise" to="03-BP-04-LSBP1">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2138,2149:-5,-20" name="P2PSetupFailed" to="Check for Intermediate P2P Flag">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
   </sub-process>
   <sub-process g="2019,1961,175,52" name="Payment Plan SubWF" sub-process-key="GSM_SUBWF_PaymentPlanSubWF">
      <transition g="3,-20" name="KeptPromise" to="Check IMPT Rule After Kept Promise">
          <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
         <script expr="${PTP_FLAG}" g="0,0,80,40" var="HOLD_FLAG"/>
             <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
               <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="CancelPaymentPlan" to="Check for Intermediate P2P Flag">
          <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="2106,2333:-111,-17" name="BrokenPromise" to="03-BP-04-LSBP1">
          <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
            <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2227,2046:-5,-20" name="PPSetupFailed" to="Check for Intermediate P2P Flag"/>
   </sub-process>
   <decision g="2162,2160,230,48" name="Check IMPT Rule After Kept Promise">
      <transition g="-5,-20" name="No" to="Check Exit Criteria After Kept Promise">
         <condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="Check for Intermediate P2P Flag">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <task continue="async" g="1758,2456,250,52" name="03-BP-04-LSBP1">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="03-BP-04-LSBP1"/>
         </field>
      </assignment-handler>
      <transition g="1760,2364:-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="Y" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2035,2359:-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="Y" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="17" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="17" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
        <script expr="17" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="17" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="17" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="17" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1911,2421;1922,2431:-5,-20" name="CancelPaymentPlan" to="03-BP-04-LSBP1"/>
      <transition g="-5,-20" name="3rd_Reminder_SMS" to="LS20 - SMS18"/>
      <transition g="-5,-20" name="2nd_SMS_befSusp" to="LS48 - SMS19"/>
   </task>
   <decision g="2315,2458,235,48" name="Select PTP_FLAG For Different State">
      <transition to="Wait Before SMS LS15">
         <condition expr="${PTP_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS20">
         <condition expr="${PTP_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Wait Before Temp SD">
         <condition expr="${PTP_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="01-ROAM-19-LSRFTSD">
         <condition expr="${PTP_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="01-ROAM-20-LSRFSD">
         <condition expr="${PTP_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS46">
         <condition expr="${PTP_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS48">
         <condition expr="${PTP_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="01-ROAM-21-LSRFSP">
         <condition expr="${PTP_FLAG==&apos;10&apos;}"/>
      </transition>
      <transition to="02-OOPS-13-LSOOPS">
         <condition expr="${PTP_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${PTP_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Temp SD">
         <condition expr="${PTP_FLAG==&apos;13&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before SD LS45">
         <condition expr="${PTP_FLAG==&apos;14&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension LS55">
         <condition expr="${PTP_FLAG==&apos;15&apos;}"/>
      </transition>
      <transition to="04-HOLD-04-LSHOLD">
         <condition expr="${PTP_FLAG==&apos;18&apos;}"/>
      </transition>
      <transition to="01-ROAM-06-LSRoam">
         <condition expr="${PTP_FLAG==&apos;16&apos;}"/>
      </transition>
      <transition to="Wait Before SD LS45">
         <condition expr="${PTP_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension LS55">
         <condition expr="${PTP_FLAG==&apos;9&apos;}"/>
      </transition>
      <transition to="03-BP-04-LSBP1">
         <condition expr="${PTP_FLAG==&apos;17&apos;}"/>
      </transition>
   </decision>
   <task continue="async" g="2001,1494,190,52" name="02-OOPS-13-LSOOPS">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="02-OOPS-13-LSOOPS"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Reset OOPS Flag">
         <script expr="11" g="0,0,80,40" var="PTP_FLAG"/> 
           <script expr="1" g="0,0,80,40" var="SETOOPS_FLAG"/>     
      </transition>
      <transition g="-5,-20" name="3rd_Reminder_SMS" to="Set OOPS Flag"/>
      <transition g="-5,-20" name="Hold" to="Reset OOPS Flag">
        <script expr="11" g="0,0,80,40" var="HOLD_FLAG"/>
          <script expr="3" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="11" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
        <script expr="11" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="11" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="Reset OOPS Flag">
        <script expr="4" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="Reset OOPS Flag">
        <script expr="5" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-23,1" name="2nd_SMS_befSusp" to="Set OOPS flag"/>
      <transition g="2,-12" name="IMPT" to="Check OOPS or Roaming Report Flag in OOPS State"/>
      <transition g="-5,-20" name="Installment" to="Reset OOPS Flag">
         <script expr="11" g="0,0,80,40" var="PTP_FLAG"/>
           <script expr="2" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
   </task>
   <state continue="async" g="415,4648,230,52" name="Wait 14 Days Before Final Strategy">
      <transition g="4,-15" name="ContinueWorkflow" to="Collection Final Strategy">
         <timer duedate="${14-SUSPENSION_DAYS} business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
         <script expr="12" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="12" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="12" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
        <script expr="12" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="12" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
        <script expr="12" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="12" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="132,3611:-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="166,4231:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="438,3964,185,52" name="IN Deduction" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="IN"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check In Flag Value">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="373,4113,315,52" name="Provisioning Wait for IN Deduction Max. Wait Period">
      <transition g="5,-17" name="ContinueWorkflow" to="LS55 - Suspension">
      </transition>
      <transition g="335,4138;335,4276:3,-18" name="InDeduction" to="LS55 - Suspension"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
   </state>
   <custom g="446,4950,167,52" name="Collection Ended" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ImportInterfaceAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTIVITY_TYPE"/>
               </key>
               <value>
                  <object expr="CollectionEnded"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="IXC_UPDATE"/>
               </key>
               <value>
                  <object expr="Y"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="end"/>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
         <script expr="10" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
   </custom>
   <decision g="1829,548,205,48" name="Check IMPT Rule After Payment">
      <transition g="36,-18" name="No" to="Check Exit Criteria">
         <condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="1967,572:-18,64" name="Yes" to="Check State Between Release SD and Suspension">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="2182,804,200,48" name="Check Pay Flag After Payment">
      <transition to="Check RBR LS20">
         <condition expr="${PAYNINV_FLAG==&apos;7&apos; || PAYNINV_FLAG==&apos;8&apos; || PAYNINV_FLAG==&apos;9&apos; || PAYNINV_FLAG==&apos;12&apos; || PAYNINV_FLAG==&apos;20&apos;}"/>
      	 <script expr="${PAYNINV_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition to="Check State Between Release SD and Suspension">
         <condition expr="${PAYNINV_FLAG!=&apos;7&apos; &amp;&amp; PAYNINV_FLAG!=&apos;8&apos; &amp;&amp; PAYNINV_FLAG!=&apos;9&apos; &amp;&amp; PAYNINV_FLAG!=&apos;12&apos; &amp;&amp; PAYNINV_FLAG!=&apos;20&apos;}"/>
      </transition>
   </decision>
   <decision g="1943,804,190,48" name="Select State After Payment">
      <transition to="Wait Before SMS LS15">
         <condition expr="${PAYNINV_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS20">
         <condition expr="${PAYNINV_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Wait Before Temp SD">
         <condition expr="${PAYNINV_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Temp SD">
         <condition expr="${PAYNINV_FLAG==&apos;13&apos;}"/>
      </transition>
      <transition to="01-ROAM-19-LSRFTSD">
         <condition expr="${PAYNINV_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before SD LS45">
         <condition expr="${PAYNINV_FLAG==&apos;14&apos;}"/>
      </transition>
      <transition to="01-ROAM-20-LSRFSD">
         <condition expr="${PAYNINV_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="04-HOLD-04-LSHOLD">
         <condition expr="${PAYNINV_FLAG==&apos;18&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS46">
         <condition expr="${PAYNINV_FLAG==&apos;7&apos; || PTP_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS48">
         <condition expr="${PAYNINV_FLAG==&apos;8&apos; || PTP_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension LS55">
         <condition expr="${PAYNINV_FLAG==&apos;15&apos;}"/>
      </transition>
      <transition to="01-ROAM-21-LSRFSP">
         <condition expr="${PAYNINV_FLAG==&apos;10&apos;}"/>
      </transition>
      <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${PAYNINV_FLAG==&apos;19&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${PAYNINV_FLAG==&apos;12&apos; || PTP_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition to="03-BP-04-LSBP1">
         <condition expr="${PAYNINV_FLAG==&apos;17&apos;}"/>
      </transition>
      <transition to="01-ROAM-06-LSRoam">
         <condition expr="${PAYNINV_FLAG==&apos;16&apos;}"/>
      </transition>
      <transition to="02-OOPS-13-LSOOPS">
         <condition expr="${PAYNINV_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="ActionError Wait">
         <condition expr="${PAYNINV_FLAG==&apos;20&apos;}"/>
      </transition>
      <transition to="Early Entry Wait">
         <condition expr="${PAYNINV_FLAG==&apos;21&apos;}"/>
      </transition>
      <transition to="Wait Before SD LS45">
         <condition expr="${PAYNINV_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension LS55">
         <condition expr="${PAYNINV_FLAG==&apos;9&apos; || PTP_FLAG==&apos;9&apos;}"/>
      </transition>
    <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
       <condition expr="${PAYNINV_FLAG==&apos;41&apos;}"/>
    </transition>
    <transition to="Provisioning Wait Forever After SD">
       <condition expr="${PAYNINV_FLAG==&apos;42&apos;}"/>
    </transition>
    <transition to="Provisioning Wait Forever After Suspension">
       <condition expr="${PAYNINV_FLAG==&apos;43&apos;}"/>
    </transition>
    <transition to="Provisioning Wait Forever After Release">
       <condition expr="${PAYNINV_FLAG==&apos;44&apos;}"/>
    </transition>
    <transition to="Provisioning Wait Forever After Release1">
       <condition expr="${PAYNINV_FLAG==&apos;45&apos;}"/>
    </transition>
   </decision>
   <decision g="2305,804,130,48" name="Check RBR LS20">
      <handler class="com.mobinil.decision.handler.RBRValidator"/>
      <transition g="2329,1177:-12,-20" name="STARRBR1" to="LS20 - SMS18">
        <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2425,828;2425,1177:-60,-20" name="STARRBR2" to="LS20 - SMS18">
        <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2329,714;2103,714:-5,-20" name="F" to="Check Autorelease Flag">
      </transition>
   </decision>
   <decision g="2327,2160,250,48" name="Check Exit Criteria After Kept Promise">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="2577,2184;2577,3165;2577,3703;2577,4288;2577,4634;2577,4858:-12,-20" name="T" to="Wait For 12 hours Before Exit">
       <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="2,-7" name="F" to="Check for Intermediate P2P Flag Before RBR">
      </transition>
   </decision>
   <decision g="2327,1818,265,48" name="CheckPTP Flag  After Kept Promise For RBR">
      <transition g="2351,899:" to="Check RBR LS20">
         <condition expr="${PTP_FLAG==&apos;7&apos; || PTP_FLAG==&apos;8&apos; || PTP_FLAG==&apos;9&apos; || PTP_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition g="2459,1842;2459,2482:" to="Select PTP_FLAG For Different State">
         <condition expr="${PTP_FLAG!=&apos;7&apos; &amp;&amp; PTP_FLAG!=&apos;8&apos; &amp;&amp; PTP_FLAG!=&apos;9&apos; &amp;&amp; PTP_FLAG!=&apos;12&apos;}"/>
      </transition>
   </decision>
   <decision g="1641,1496,225,48" name="Check OOPS or Roaming Report Flag">
      <transition g="-5,-20" name="No" to="02-OOPS-13-LSOOPS">
         <condition expr="${ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="01-ROAM-06-LSRoam">
         <condition expr="${ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <task continue="async" g="1578,1316,176,52" name="01-ROAM-06-LSRoam">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-06-LSRoam"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="3rd_Reminder_SMS" to="Set Roaming Report Flag"/>
      <transition g="-5,-20" name="PromiseToPay" to="Reset Roaming Report Flag">
        <script expr="16" g="0,0,80,40" var="PTP_FLAG"/>
          <script expr="1" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Reset Roaming Report Flag">
        <script expr="16" g="0,0,80,40" var="HOLD_FLAG"/>
          <script expr="3" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="16" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
        <script expr="16" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="16" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="16" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="Reset Roaming Report Flag">
        <script expr="4" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="Reset Roaming Report Flag">
        <script expr="5" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="2nd_SMS_befSusp" to="Set Roaming Report flag"/>
      <transition g="1714,1291;1720,1302:-5,-20" name="IMPT" to="01-ROAM-06-LSRoam"/>
      <transition g="-5,-20" name="Installment" to="Reset Roaming Report Flag">
        <script expr="16" g="0,0,80,40" var="PTP_FLAG"/>
          <script expr="2" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
   </task>
   <custom g="2222,1389,125,52" name="Set OOPS Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="LS20 - SMS18"/>
   </custom>
   <custom g="1809,1388,150,52" name="Set OOPS Flag IMPT" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="01-ROAM-06-LSRoam"/>
   </custom>
   <custom g="1578,1191,175,52" name="Set Roaming Report Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="LS20 - SMS18"/>
   </custom>
   <task continue="async" g="235,2385,145,52" name="04-HOLD-04-LSHOLD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="04-HOLD-04-LSHOLD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="18" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="18" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="18" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
        <script expr="18" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
        <script expr="18" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
        <script expr="18" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="18" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SD" to="LS45 - SD">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="3rd_Reminder_SMS" to="Tickler For Hold Exit"/>
      <transition g="-5,-20" name="2nd_SMS_befSusp" to="Tickler for Hold Exit"/>
   </task>
   <custom g="2045,3052,200,52" name="Release SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="3" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <custom g="1720,3175,195,52" name="Release Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSuspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="4" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <custom g="2456,2735,200,52" name="Release Suspension1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSuspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-101,66" name="ErrorHandler" to="ActionError">
        <script expr="5" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Between Release Suspension and Release SD"/>
   </custom>
   <custom g="2483,3063,145,52" name="Release SD1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="6" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <decision g="2073,3599,190,48" name="Select State After Release">
      <transition to="Wait Before SMS LS46">
         <condition expr="${RELEASE_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS48">
         <condition expr="${RELEASE_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension LS55">
         <condition expr="${RELEASE_FLAG==&apos;15&apos;}"/>
      </transition>
      <transition to="01-ROAM-21-LSRFSP">
         <condition expr="${RELEASE_FLAG==&apos;10&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${RELEASE_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition to="04-HOLD-04-LSHOLD">
         <condition expr="${RELEASE_FLAG==&apos;18&apos;}"/>
      </transition>
      <transition to="03-BP-04-LSBP1">
         <condition expr="${RELEASE_FLAG==&apos;17&apos;}"/>
      </transition>
      <transition to="01-ROAM-06-LSRoam">
         <condition expr="${RELEASE_FLAG==&apos;16&apos;}"/>
      </transition>
      <transition to="02-OOPS-13-LSOOPS">
         <condition expr="${RELEASE_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="Wait for AutoRelease Max Scheduled Time">
         <condition expr="${RELEASE_FLAG==&apos;22&apos;}"/>
      </transition>
      <transition to="Wait For 6 hours">
         <condition expr="${RELEASE_FLAG==&apos;23&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension LS55">
         <condition expr="${RELEASE_FLAG==&apos;9&apos;}"/>
      </transition>
   </decision>
   <decision g="2182,548,155,48" name="Check Exit Criteria">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="2577,572;2577,1397;2577,2249;2577,2960;2577,3971;2577,4858:-11,-20" name="T" to="Wait For 12 hours Before Exit">
       <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-12,-20" name="F" to="Check Pay Flag After Payment"/>
   </decision>
   <state continue="async" g="993,4832,200,52" name="Wait For 12 hours Before Exit">
      <transition g="1093,4976;773,4976:56,-51" name="ContinueWorkflow" to="Collection Ended">
         <timer duedate="12 hours" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="1170,4812;1180,4822:-5,-20" name="Payment" to="Wait For 12 hours Before Exit"/>
      <transition g="1139,4801;1155,4813:-5,-20" name="InvoiceBalance" to="Wait For 12 hours Before Exit"/>
      <transition g="1027,4804;1006,4812:-5,-20" name="AutoRelease" to="Wait For 12 hours Before Exit"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Invoice" to="Check Exit criteria"/>
   </state>
   <custom g="1539,3953,115,52" name="ActionError" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="ActionError Wait">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1851,3953,158,52" name="ActionError Wait">
      <transition g="-43,-20" name="ContinueWorkflow" to="Select State After ActionError Wait">
         <timer duedate="12 hours" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
         <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
         <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
         <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
         <script expr="20" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
   </state>
   <decision g="1905,3779,235,48" name="Select State After ActionError Wait">
      <transition to="LS45 - SD">
         <condition expr="${ERROR_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="LS55 - Suspension">
         <condition expr="${ERROR_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Release SD">
         <condition expr="${ERROR_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="Release Suspension">
         <condition expr="${ERROR_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Release Suspension1">
         <condition expr="${ERROR_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Release SD1">
         <condition expr="${ERROR_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="Collection Ended">
         <condition expr="${ERROR_FLAG==&apos;10&apos;}"/>
      </transition>
   </decision>
   <decision g="2103,747,170,48" name="Check Autorelease Flag">
      <transition g="2057,775:" to="Check State Between Release SD and Suspension">
         <condition expr="${AUTORELEASE_FLAG==&apos;N&apos;}"/>
      </transition>
      <transition to="Check Provisioning Wait Flag">
         <condition expr="${AUTORELEASE_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="2021,956,165,52" name="Wait For 6 hours">
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment"/>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
         <script expr="23" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
         <script expr="23" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
         <script expr="23" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="2154,931;2167,939:-5,-20" name="AutoRelease" to="Wait For 6 hours"/>
      <transition g="-38,-8" name="ContinueWorkflow" to="Check State Between Release SD and Suspension">
         <timer duedate="6 hours"/>
          <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule after Invoice"/>
   </state>
   <decision g="503,172,155,48" name="Check Workflow Type">
      <transition g="618,143:-5,-20" name="IXC_Entry" to="Wait For Migration">
         <condition expr="${WORKFLOW_TYPE==&apos;M&apos;}"/>
      </transition>
      <transition g="-21,-13" name="IXC_Entry" to="Early Entry Action">
         <condition expr="${WORKFLOW_TYPE==&apos;N&apos;}"/>
      </transition>
   </decision>
     <state continue="async" g="738,117,150,52" name="Wait For Migration">
      <transition g="1108,143:-100,3" name="MigComplete" to="Check Diferent State For Migration">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="4,-5" name="ContinueWorkflow" to="Update Workflow Type"/>
   </state>
   <decision g="1084,173,230,48" name="Check Diferent State For Migration">
    <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Writeoff&apos;}"/>
      </transition>
      <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Deactivation&apos;}"/>
      </transition>
      <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Suspension&apos; &amp;&amp; IXC_SUB_STEP!=&apos;WBFS&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${IXC_STEP==&apos;Suspension&apos; &amp;&amp; IXC_SUB_STEP==&apos;WBFS&apos;}"/>
      </transition>
      <transition to="Payment Plan SubWF">
         <condition expr="${IXC_STEP==&apos;PaymentPlan&apos;}"/>
             <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition to="Promise To Pay SubWF">
         <condition expr="${IXC_STEP==&apos;P2P&apos;}"/>
             <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${IXC_STEP==&apos;Hold&apos;}"/>
              <script expr="3" g="0,0,80,40" var="HOLD_FLAG"/>
                <script expr="Hold_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition to="Wait Before SMS LS15">
         <condition expr="${IXC_STEP==&apos;LS10&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS20">
         <condition expr="${IXC_STEP==&apos;LS15&apos;}"/>
      </transition>
      <transition to="Wait Before Temp SD">
         <condition expr="${IXC_STEP==&apos;LS20&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS46">
         <condition expr="${IXC_STEP==&apos;LS45&apos; || IXC_STEP==&apos;SD&apos;}"/>
      </transition>
      <transition to="Wait Before SMS LS48">
         <condition expr="${IXC_STEP==&apos;LS46&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${IXC_STEP==&apos;LS55&apos;}"/>
      </transition>
      <transition to="INVALID CUSTOMER STATE">
         <condition expr="${IXC_STEP==&apos;Invalid&apos; || IXC_STEP==&apos;Invalid_PP&apos; || IXC_STEP==&apos;Invalid_INS&apos; || IXC_STEP==&apos;Invalid_PAY&apos;}"/>
      </transition>
      <transition to="Early Entry Action">
         <condition expr="${IXC_STEP==&apos;FirstStep&apos;}"/>
      </transition>
      <transition to="Load Distribution Action Before Suspension">
         <condition expr="${IXC_STEP==&apos;LS48&apos;}"/>
      </transition>
   </decision>
   <custom g="89,4676,170,52" name="INVALID CUSTOMER STATE" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="Wait to Fix Customer Data"/>
   </custom>
   <state continue="async" g="82,4847,185,52" name="Wait to Fix Customer Data">
      <transition g="174,4975:-58,-19" name="IXC_Exit" to="Collection Ended"/>
   </state>
   <custom g="452,288,150,52" name="Early Entry Action" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="EarlyEntryAction"/>
      </field>
      <transition to="Early Entry Wait"/>
   </custom>
   <state continue="async" g="458,407,140,52" name="Early Entry Wait">
      <transition g="-5,-20" name="ContinueWorkflow" to="LS10 - SMS1">
         <timer duedate="0 business minute" startdate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
   </state>
   <custom g="54,2244,170,52" name="Tickler For Hold Entry" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold entry on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Entry"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="04-HOLD-04-LSHOLD"/>
   </custom>
   <custom g="46,2487,165,52" name="Tickler For Hold Exit" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold exit on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Exit"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="LS20 - SMS18"/>
   </custom>
   <custom g="227,2490,165,52" name="Tickler for Hold Exit" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold exit on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Exit"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="LS48 - SMS19"/>
   </custom>
   <custom g="450,2692,160,52" name="Tickler For LS45  SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <transition to="Wait Before SMS LS46">
        <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="428,4533,205,52" name="Tickler For LS55 - Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <transition to="Wait 14 Days Before Final Strategy">
        <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="1818,1200,175,52" name="Set Roaming Report flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="LS48 - SMS19"/>
   </custom>
   <custom g="2377,1493,125,52" name="Set OOPS flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="LS48 - SMS19"/>
   </custom>
   <state continue="async" g="2378,2917,355,52" name="Provisioning Wait Between Release Suspension and Release SD">
      <transition g="-5,-20" name="ContinueWorkflow" to="Release SD1">
       <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
			<script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
			 <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
		</transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
       <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
     </transition>
   </state>
   <custom g="416,1873,230,52" name="Load Distribution Action Before SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="LoadDistributionAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="SD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="DUE_DAYS"/>
               </key>
               <value>
                  <object expr="1"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SD LS45"/>
   </custom>
   <custom g="395,3312,270,52" name="Load Distribution Action Before Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="LoadDistributionAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="Suspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="DUE_DAYS"/>
               </key>
               <value>
                  <object expr="2"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before Suspension LS55"/>
   </custom>
   <decision g="2072,1390,295,48" name="Check OOPS or Roaming Report Flag in OOPS State">
      <transition g="-5,-20" name="Yes" to="Set OOPS Flag IMPT">
         <condition expr="${ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
      <transition g="2180,1414;2180,1464:-5,-20" name="No" to="02-OOPS-13-LSOOPS">
         <condition expr="${ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="2272,2079,215,48" name="Check for Intermediate P2P Flag">
      <transition g="2339,2285:" to="Select PTP_FLAG For Different State">
         <condition expr="${PTP_FLAG_I==&apos;N&apos;}"/>
      </transition>
      <transition g="2179,2302:" to="03-BP-04-LSBP1">
         <condition expr="${PTP_FLAG_I==&apos;Y&apos;}"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
   </decision>
   <decision g="2327,1966,270,48" name="Check for Intermediate P2P Flag Before RBR">
      <transition to="CheckPTP Flag  After Kept Promise For RBR">
         <condition expr="${PTP_FLAG_I==&apos;N&apos;}"/>
      </transition>
      <transition g="2003,2227:" to="03-BP-04-LSBP1">
         <condition expr="${PTP_FLAG_I==&apos;Y&apos;}"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
   </decision>
   <custom g="732,215,160,52" name="Update Workflow Type" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="WORKFLOW_TYPE"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Early Entry Action"/>
   </custom>
   <custom g="1771,1547,185,52" name="Reset Roaming Report Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check Different Events RRPT"/>
   </custom>
   <decision g="1841,1652,195,48" name="Check Different Events RRPT">
      <transition to="Promise To Pay SubWF">
         <condition expr="${SETRRPT_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Payment Plan SubWF">
         <condition expr="${SETRRPT_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${SETRRPT_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="LS45 - SD">
         <condition expr="${SETRRPT_FLAG==&apos;4&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition to="IN Deduction">
         <condition expr="${SETRRPT_FLAG==&apos;5&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <custom g="2340,1611,177,52" name="Reset OOPS Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check Different Events OOPS"/>
   </custom>
   <decision g="2406,1703,195,48" name="Check Different Events OOPS">
      <transition to="Promise To Pay SubWF">
         <condition expr="${SETOOPS_FLAG==&apos;1&apos;}"/>
      </transition>
       <transition to="Payment Plan SubWF">
         <condition expr="${SETOOPS_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${SETOOPS_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="LS45 - SD">
         <condition expr="${SETOOPS_FLAG==&apos;4&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition to="IN Deduction">
         <condition expr="${SETOOPS_FLAG==&apos;5&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <state continue="async" g="384,2583,293,52" name="Provisioning Wait Forever After SD">
      <transition g="-5,-20" name="ContinueWorkflow" to="Tickler For LS45  SD"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
      <script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
     <script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
      <script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
   </state>
   <state continue="async" g="372,4406,317,52" name="Provisioning Wait Forever After Suspension">
      <transition g="-5,-20" name="ContinueWorkflow" to="Tickler For LS55 - Suspension"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="12" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="12" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
      <script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
      <script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
      <script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
   </state>
   <decision g="2196,3191,180,48" name="Check Wait After Release">
      <transition to="Provisioning Wait Forever After Release">
         <condition expr="${RELEASE_FLAG!=&apos;22&apos; &amp;&amp; RELEASE_FLAG!=&apos;23&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Forever After Release1">
         <condition expr="${RELEASE_FLAG==&apos;22&apos; || RELEASE_FLAG==&apos;23&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="1982,3339,262,52" name="Provisioning Wait Forever After Release">
      <transition g="-5,-20" name="ContinueWorkflow" to="Select State After Release"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="${RELEASE_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="${RELEASE_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
   </state>
   <state continue="async" g="2339,3326,264,52" name="Provisioning Wait Forever After Release1">
      <transition g="-5,-20" name="ContinueWorkflow" to="Select State After Release"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      	<script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule After Payment">
        <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
        <script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
        <script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule After Payment">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
        <script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
   </state>
   <decision g="2023,804,285,48" name="Check State Between Release SD and Suspension">
      <transition to="Select State After Payment">
         <condition expr="${RELEASEINMID_FLAG==&apos;N&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Between Release Suspension and Release SD">
         <condition expr="${RELEASEINMID_FLAG==&apos;Y&apos;}"/>
          <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
   </decision>
   <decision g="1069,4603,155,48" name="Check Exit criteria">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="1020,4737:-12,-20" name="T" to="Wait For 12 hours Before Exit"/>
      <transition g="-11,-20" name="F" to="Early Entry Action"/>
   </decision>
   <decision g="508,4038,155,48" name="Check In Flag Value">
      <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${IN_FLAG==&apos;T&apos;}"/>
      </transition>
      <transition g="448,4062:" to="LS55 - Suspension">
         <condition expr="${IN_FLAG==&apos;F&apos;}"/>
      </transition>
   </decision>
   <decision g="2489,828,205,48" name="Check IMPT Rule after Invoice">
      <transition g="-21,-20" name="No" to="Check Exit Criteria after Invoice">
         <condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-23,-20" name="Yes" to="Check State Between Release SD and Suspension">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="2499,975,225,48" name="Check Exit Criteria after Invoice">
      <handler class="com.mobinil.decision.handler.ExitCriteriaValidator"/>
      <transition g="2342,962:-11,-20" name="F" to="Wait For 6 hours"/>
      <transition g="-12,-20" name="T" to="Wait For 12 hours Before Exit">
      	<script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <decision name="Check Provisioning Wait Flag" g="2036,637,200,48">
      <transition to="Check State Between Release SD and Suspension">
         <condition expr="${PAYNINV_FLAG==&apos;45&apos;}"/>
      </transition>
      <transition to="Wait For 6 hours">
         <condition expr="${PAYNINV_FLAG!=&apos;45&apos;}"/>
      </transition>
   </decision>
</process>