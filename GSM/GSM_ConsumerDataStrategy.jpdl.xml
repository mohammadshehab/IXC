<?xml version="1.0" encoding="UTF-8"?>

<process exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler" name="GSM_ConsumerDataStrategy" xmlns="http://jbpm.org/4.0/jpdl">
   <start continue="async" g="1207,0,48,48" name="start1">
      <transition to="Check for Entry Criteria">
        <script expr="12 hours" g="0,0,80,40" var="AUTOTIME"/>
        <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
          <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
            <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
            <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
   </start>
   <custom g="1155,90,150,52" name="Collection Started" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="Check Workflow Type"/>
   </custom>
   <custom g="1169,531,120,52" name="DS10 - SMS1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="DS10"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CDS10 - SMS1"/>
   </custom>
   <custom g="1110,646,240,52" name="CDS10 - SMS1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="CDS10"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CDS10 - e-mail"/>
   </custom>
   <state continue="async" g="1112,858,239,52" name="Wait Before SMS DS15">
      <transition g="-122,-11" name="ContinueWorkflow" to="DS15 - SMS2">
         <timer duedate="7 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="1" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="1" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
       <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="1" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="471,884:-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="1" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="1" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="120,884;120,2644;120,3271:-5,-20" name="Suspension" to="IN Deduction">
      <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1000,924;139,924;139,2075;139,2217:-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="1108,996,247,52" name="DS15 - SMS2" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="DS15"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CDS15 - SMS2"/>
   </custom>
   <custom g="1127,1129,208,52" name="CDS15 - SMS2" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="CDS15"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS DS20">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1123,1281,215,52" name="Wait Before SMS DS20">
      <transition g="-108,-6" name="ContinueWorkflow" to="DS20 - SMS3">
         <timer duedate="2 business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="2" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="2" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="2" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="2" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="2" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="120,1307;120,3271:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="995,1329;139,1329;139,2217:-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="1122,1379,216,52" name="DS20 - SMS3" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="DS20"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CDS20 - SMS3"/>
   </custom>
   <custom g="1118,1459,221,52" name="CDS20 - SMS3" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="CDS20"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CDS20 - e-mail">
      </transition>
   </custom>
   <state continue="async" g="1139,1736,180,52" name="Wait Before Web RD DS45">
      <transition g="9,-4" name="ContinueWorkflow" to="Holiday Action Before Web RD DS45">
         <timer duedate="${DUE_TIME}"/>
      </transition>
      <transition g="-8,-34" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="3" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="3" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="3" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="3" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="120,1761;120,2540;120,3271:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1055,1790;139,1790;139,2217:-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="1130,2191,195,52" name="DS45  Web Redirection" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="SD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="1" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition g="1003,2233:" to="Provisioning Wait Forever After Web Redirection">
      </transition>
   </custom>
   <state continue="async" g="1127,2424,205,52" name="Wait Before SMS DS48">
      <transition g="-120,-10" name="ContinueWorkflow" to="DS48 - SMS20">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="4" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="4" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="4" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="4" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="120,2402;120,3271:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="1211,2298:-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <custom g="1122,2507,215,52" name="DS48 - SMS20" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="DS48"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CDS48 - SMS20"/>
   </custom>
   <custom g="1130,2596,198,52" name="CDS48 - SMS20" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="SMSAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="CDS48"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="CDS48 - e-mail">
      </transition>
   </custom>
   <state continue="async" g="1138,2854,180,52" name="Wait Before Suspension DS55">
      <transition g="-121,-1" name="ContinueWorkflow" to="Holiday Action Before Suspension DS55">
         <timer duedate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="5" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="5" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="5" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="5" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="1707,2097:-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="5" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="5" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="1052,3045:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="925,2526:-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <decision g="1203,3145,240,48" name="Check Roaming Flag Before Suspension">
      <transition g="2,-17" name="Suspension" to="IN Deduction">
         <condition expr="${ROAMING_FLAG==0}"/>
          <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="01-ROAM-33-DataRFSP">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
   </decision>
   <custom g="1121,3459,211,52" name="DS55 - Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="Suspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="2" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Forever After Suspension">
      </transition>
   </custom>
   <task continue="async" g="1513,3143,203,52" name="01-ROAM-33-DataRFSP">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-33-DataRFSP"/>
         </field>
      </assignment-handler>
      <transition g="1614,3270:-101,-34" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="7" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="7" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
      <script expr="7" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="7" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
        <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="7" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="1609,2406:-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </task>
   <custom g="1135,4068,184,52" name="Collection Ended" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ImportInterfaceAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTIVITY_TYPE"/>
               </key>
               <value>
                  <object expr="CollectionEnded"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="IXC_UPDATE"/>
               </key>
               <value>
                  <object expr="Y"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="end1"/>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
          <script expr="10" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
   </custom>
   <end g="1204,4183,48,48" name="end1"/>
   <decision g="1205,2075,200,48" name="Check Roaming Flag Before SD">
      <transition g="-5,-20" name="Yes" to="01-ROAM-32-DataRFSD">
         <condition expr="${ROAMING_FLAG&gt;0}"/>
      </transition>
      <transition g="-5,-20" name="Web_RD" to="DS45  Web Redirection">
         <condition expr="${ROAMING_FLAG==0}"/>
          <script expr="AUTO" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <task continue="async" g="1387,2074,185,52" name="01-ROAM-32-DataRFSD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-32-DataRFSD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="6" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="6" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="6" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="5,-16" name="Payment" to="Check IMPT Rule">
      <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
      <script expr="6" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="1193,2053;120,2053;120,3271:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
       <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="6" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="1479,2217:-98,-19" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </task>
   <custom g="1112,2947,230,52" name="Holiday Action Before Suspension DS55" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to="Is Working Day "/>
   </custom>
   <decision g="1203,3036,135,48" name="Is Working Day ">
      <transition g="8,-6" name="Yes" to="Check Roaming Flag Before Suspension">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait For 1 Day Before Suspension DS55">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
        <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <state continue="async" g="1549,3034,252,52" name="Wait For 1 Day Before Suspension DS55">
      <transition g="1602,2973:-103,23" name="ContinueWorkflow" to="Holiday Action Before Suspension DS55">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-17,2" name="Payment" to="Check IMPT Rule">
      <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="11" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="11" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="11" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="11" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="11" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="11" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
   </state>
   <custom g="1094,1851,270,52" name="Holiday Action Before Web RD DS45" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="HolidayAction"/>
      </field>
      <transition to="Check Is Working Day Before SD"/>
   </custom>
   <decision g="1205,1972,210,48" name="Check Is Working Day Before SD">
      <transition g="-5,-20" name="No" to="Wait For 1 Day before Web RD DS45">
         <condition expr="${IS_WORKING_DAY!=&apos;T&apos;}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="3,-20" name="Yes" to="Check Roaming Flag Before SD">
         <condition expr="${IS_WORKING_DAY==&apos;T&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="1466,1970,245,52" name="Wait For 1 Day before Web RD DS45">
      <transition g="1588,1876:-110,5" name="ContinueWorkflow" to="Holiday Action Before Web RD DS45">
         <timer duedate="1 business day" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="10" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="10" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="10" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="10" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="10" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
   </state>
   <custom g="1137,3245,182,52" name="IN Deduction" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="IN"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check In Flag Value">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <sub-process g="1740,1371,160,52" name="Promise To Pay SubWF" sub-process-key="GSM_SUBWF_PromiseStrategy">
      <transition g="1825,1612:-6,13" name="KeptPromise" to="Check IMPT Rule After Kept Promise">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
     
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
          <script expr="${PTP_FLAG}" g="0,0,80,40" var="HOLD_FLAG"/>
             <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
               <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="CancelPromise" to="Check for Intermediate P2P Flag">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="-5,-20" name="SD" to="Holiday Action Before Web RD DS45">
        <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="Holiday Action Before Suspension DS55">
        <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2058,1397:-105,4" name="BrokenPromise" to="03-BP-08-DSBP1">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="1860,1584:-5,-20" name="P2PSetupFailed" to="Check for Intermediate P2P Flag">
         <script expr="P2P_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule"/>
   </sub-process>
   <task continue="async" g="2114,290,169,52" name="02-OOPS-17-DataOOPS">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="02-OOPS-17-DataOOPS"/>
         </field>
      </assignment-handler>
      <transition g="2278,403:-5,-20" name="Installment" to="Reset OOPS Flag">
      <script expr="8" g="0,0,80,40" var="PTP_FLAG"/>
        <script expr="2" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="2,-16" name="3rd_Reminder_SMS" to="Set OOPS Flag"/>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Reset OOPS Flag">
      <script expr="8" g="0,0,80,40" var="HOLD_FLAG"/>
        <script expr="3" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="8" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
       <script expr="8" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="8" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="2252,408:-6,-19" name="Suspension" to="Reset OOPS Flag">
        <script expr="5" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
       <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="8" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="2372,353:-5,-20" name="Web_RD" to="Reset OOPS Flag">
        <script expr="4" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SMS_befSusp" to="Set OOPS flag"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag in OOPS State"/>
      <transition g="2349,367:-5,-20" name="PromiseToPay" to="Reset OOPS Flag">
      <script expr="8" g="0,0,80,40" var="PTP_FLAG"/>
        <script expr="1" g="0,0,80,40" var="SETOOPS_FLAG"/>
      </transition>
   </task>
   <decision g="2260,1588,230,48" name="Check IMPT Rule After Kept Promise">
      <transition g="-5,-20" name="No" to="Check Open Amount After Kept Promise">
         <condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="Check for Intermediate P2P Flag">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <task continue="async" g="1962,1517,193,52" name="03-BP-08-DSBP1">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="03-BP-08-DSBP1"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
        <script expr="Y" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-11,-23" name="PromiseToPay" to="Promise To Pay SubWF">
        <script expr="Y" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="12" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
      <script expr="12" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="12" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
       <script expr="12" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="12" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
       <script expr="12" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="3rd_Reminder_SMS" to="DS20 - SMS3"/>
      <transition g="-5,-20" name="SMS_befSusp" to="DS48 - SMS20"/>
      <transition g="2034,1489;2026,1505:-5,-20" name="CancelPaymentPlan" to="03-BP-08-DSBP1"/>
   </task>
   <decision g="2034,1674,240,48" name="Select PTP_FLAG For Different States">
      <transition to="02-OOPS-17-DataOOPS">
         <condition expr="${PTP_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="Wait Before SMS DS15">
         <condition expr="${PTP_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Wait Before SMS DS20">
         <condition expr="${PTP_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="01-ROAM-32-DataRFSD">
         <condition expr="${PTP_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="Wait Before SMS DS48">
         <condition expr="${PTP_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="01-ROAM-33-DataRFSP">
         <condition expr="${PTP_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${PTP_FLAG==&apos;9&apos;}"/>
      </transition>
      <transition to="01-ROAM-10-DataRoam">
         <condition expr="${PTP_FLAG==&apos;13&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day before Web RD DS45">
         <condition expr="${PTP_FLAG==&apos;10&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension DS55">
         <condition expr="${PTP_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="04-HOLD-08-DataHOLD">
         <condition expr="${PTP_FLAG==&apos;14&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension DS55">
         <condition expr="${PTP_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Wait Before Web RD DS45">
         <condition expr="${PTP_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="03-BP-08-DSBP1">
         <condition expr="${PTP_FLAG==&apos;12&apos;}"/>
      </transition>
   </decision>
   <sub-process g="2207,1371,155,52" name="Payment Plan SubWF" sub-process-key="GSM_SUBWF_PaymentPlanSubWF">
      <transition g="12,3" name="KeptPromise" to="Check IMPT Rule After Kept Promise">
         <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      
      <transition g="-5,-20" name="CancelPaymentPlan" to="Check for Intermediate P2P Flag">
         <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
          <script expr="${PTP_FLAG}" g="0,0,80,40" var="HOLD_FLAG"/>
             <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
               <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2115,1396:16,-29" name="BrokenPromise" to="03-BP-08-DSBP1">
         <script expr="PaymentPlan_M" g="0,0,80,40" var="IXC_STEP"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
      <transition g="2400,1467:-5,-20" name="PPSetupFailed" to="Check for Intermediate P2P Flag"/>
       <transition g="-5,-20" name="Invoice" to="Check IMPT Rule"/>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule"/>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule"/>
   </sub-process>
   <state continue="async" g="1111,3809,230,52" name="Wait 14 Days Before Final Strategy">
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="9" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="9" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry">
       <script expr="9" g="0,0,80,40" var="HOLD_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="9" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
       <script expr="9" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="9" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="1380,3345:-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="5,-10" name="ContinueWorkflow" to="Collection Final Strategy">
         <timer duedate="${14-SUSPENSION_DAYS} business days" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="969,2895:-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </state>
   <state continue="async" g="456,1382,255,52" name="Wait for AutoRelease Max Scheduled Time">
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
         <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="455,1559:-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
         <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="455,1559:-5,-20" name="Invoice" to="Check IMPT Rule">
         <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
        <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="22" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
       <script expr="22" g="0,0,80,40" var="RELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="22" g="0,0,80,40" var="RELEASE_FLAG"/>
        <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
         <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="497,1357;486,1369:-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time"/>
      <transition g="404,1591:-5,-20" name="ContinueWorkflow" to="Check State Between Release SD and Suspension">
         <timer duedate="${AUTOTIME}"/>
      </transition>
   </state>
   <custom g="1115,752,232,52" name="CDS10 - e-mail" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="EMAILAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="CDS10"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before SMS DS15">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="1124,1539,208,52" name="CDS20 - e-mail" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="EMAILAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="CDS20"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Load Distribution Action Before Web RD">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="1152,2680,152,52" name="CDS48 - e-mail" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="EMAILAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="MSG_ID"/>
               </key>
               <value>
                  <object expr="CDS48"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Load Distribution Action Before Suspension">
     <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1070,3357,315,52" name="Provisioning Wait for IN Deduction Max. Wait Period">
      <transition g="3,-16" name="ContinueWorkflow" to="DS55 - Suspension">
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      	<script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      	<script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      	<script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="41" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="1375,3432:-5,-20" name="InDeduction" to="DS55 - Suspension"/>
   </state>
   <task continue="async" g="1727,161,155,52" name="01-ROAM-10-DataRoam">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="01-ROAM-10-DataRoam"/>
         </field>
      </assignment-handler>
      <transition g="3,-8" name="3rd_Reminder_SMS" to="Set Roaming Report Flag"/>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Reset Roaming Report Flag">
      <script expr="13" g="0,0,80,40" var="HOLD_FLAG"/>
        <script expr="3" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="1616,236:-5,-20" name="Installment" to="Reset Roaming Report Flag">
      <script expr="13" g="0,0,80,40" var="PTP_FLAG"/>
        <script expr="2" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="13" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
       <script expr="13" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="13" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="1601,225:-5,-20" name="Suspension" to="Reset Roaming Report Flag">
        <script expr="5" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="13" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="1706,263:-5,-20" name="Web_RD" to="Reset Roaming Report Flag">
        <script expr="4" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
      <transition g="-5,-20" name="SMS_befSusp" to="Set Roaming Report flag"/>
      <transition g="1931,157;1915,175:-5,-20" name="IMPT" to="01-ROAM-10-DataRoam"/>
      <transition g="1706,279:-5,-20" name="PromiseToPay" to="Reset Roaming Report Flag">
      <script expr="13" g="0,0,80,40" var="PTP_FLAG"/>
        <script expr="1" g="0,0,80,40" var="SETRRPT_FLAG"/>
      </transition>
   </task>
   <custom g="1719,67,175,52" name="Set Roaming Report Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="DS20 - SMS3"/>
   </custom>
   <custom g="2516,170,125,52" name="Set OOPS Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="DS20 - SMS3"/>
   </custom>
   <custom g="1925,220,150,52" name="Set OOPS Flag IMPT" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="01-ROAM-10-DataRoam"/>
   </custom>
   <decision g="1827,292,225,48" name="Check OOPS or Roaming Report Flag">
      <transition g="-5,-20" name="Yes" to="01-ROAM-10-DataRoam">
         <condition expr="${ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
      <transition g="-5,-20" name="No" to="02-OOPS-17-DataOOPS">
         <condition expr="${ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="315,1668,135,48" name="Check IMPT Rule">
      <transition g="-5,-20" name="No" to="Check Open Amount">
         <condition expr="${OOPS_FLAG!=&apos;Y&apos; &amp;&amp; ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
      <transition g="-5,-20" name="Yes" to="Check State Between Release SD and Suspension">
         <condition expr="${OOPS_FLAG==&apos;Y&apos; || ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="294,1838,145,48" name="Check Open Amount">
      <transition g="-5,-20" name="No" to="Check Autorelease Flag">
         <condition expr="${CUSTOMER_AMOUNT&gt;=25}"/>
      </transition>
      <transition g="339,3140;339,3679;339,4094:-5,-20" name="IXC_Exit" to="Wait For 12 hours Before Exit">
         <condition expr="${CUSTOMER_AMOUNT&lt;25}"/>
          <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </decision>
   <decision g="541,1860,190,48" name="Select State After Payment">
      <transition to="01-ROAM-10-DataRoam">
         <condition expr="${PAYNINV_FLAG==&apos;13&apos;}"/>
      </transition>
      <transition to="02-OOPS-17-DataOOPS">
         <condition expr="${PAYNINV_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="Wait Before SMS DS15">
         <condition expr="${PAYNINV_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Wait Before SMS DS20">
         <condition expr="${PAYNINV_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day before Web RD DS45">
         <condition expr="${PAYNINV_FLAG==&apos;10&apos;}"/>
      </transition>
      <transition to="01-ROAM-32-DataRFSD">
         <condition expr="${PAYNINV_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension DS55">
         <condition expr="${PAYNINV_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="01-ROAM-33-DataRFSP">
         <condition expr="${PAYNINV_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${PAYNINV_FLAG==&apos;9&apos;}"/>
      </transition>
      <transition to="03-BP-08-DSBP1">
         <condition expr="${PAYNINV_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition to="04-HOLD-08-DataHOLD">
         <condition expr="${PAYNINV_FLAG==&apos;14&apos;}"/>
      </transition>
      <transition to="Wait Before SMS DS48">
         <condition expr="${PAYNINV_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${PAYNINV_FLAG==&apos;15&apos;}"/>
      </transition>
      <transition to="ActionError Wait">
         <condition expr="${PAYNINV_FLAG==&apos;20&apos;}"/>
      </transition>
      <transition to="Early Entry Wait">
         <condition expr="${PAYNINV_FLAG==&apos;21&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension DS55">
         <condition expr="${PAYNINV_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Wait Before Web RD DS45">
         <condition expr="${PAYNINV_FLAG==&apos;3&apos;}"/>
      </transition>
        <transition to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${PAYNINV_FLAG==&apos;41&apos;}"/>
      </transition>
       <transition to="Provisioning Wait Forever After Web Redirection">
         <condition expr="${PAYNINV_FLAG==&apos;42&apos;}"/>
      </transition>
       <transition to="Provisioning Wait Forever After Suspension">
         <condition expr="${PAYNINV_FLAG==&apos;43&apos;}"/>
      </transition>
       <transition to="Provisioning Wait Forever After Release">
         <condition expr="${PAYNINV_FLAG==&apos;44&apos;}"/>
      </transition>
       <transition to="Provisioning Wait Forever After Release1">
         <condition expr="${PAYNINV_FLAG==&apos;45&apos;}"/>
      </transition>
   </decision>
   
   <task continue="async" g="394,2526,155,52" name="04-HOLD-08-DataHOLD">
      <assignment-handler class="com.lhs.wma.wfms.jbpm4.WFMSTaskAssignment">
         <field name="actionName">
            <string value="04-HOLD-08-DataHOLD"/>
         </field>
      </assignment-handler>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="14" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="1820,1711:-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="14" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="14" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
       <script expr="14" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="14" g="0,0,80,40" var="RELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Suspension" to="IN Deduction">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="14" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
      <transition g="-10,-16" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="14" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Web_RD" to="DS45  Web Redirection">
       <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition g="-5,-20" name="3rd_Reminder_SMS" to="Tickler For Hold Exit"/>
      <transition g="-5,-20" name="SMS_befSusp" to="Tickler for Hold Exit"/>
   </task>
   <decision g="2260,1674,240,48" name="Check Open Amount After Kept Promise">
      <transition g="2284,3727;2284,3991;783,3991:-5,-20" name="IXC_Exit" to="Wait For 12 hours Before Exit">
         <condition expr="${CUSTOMER_AMOUNT&lt;25}"/>
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-5,-20" name="No" to="Check for Intermediate P2P Flag">
         <condition expr="${CUSTOMER_AMOUNT&gt;=25}"/>
      </transition>
   </decision>
   <custom g="2130,2730,110,52" name="Release SD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="3" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <custom g="1990,2951,195,52" name="Release Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSuspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="4" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <custom g="2390,2689,200,52" name="Release Suspension1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSuspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="5" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Provisioning Wait Between Release Suspension and Release SD"/>
   </custom>
   <custom g="2433,2927,115,52" name="Release SD1" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="ProvisioningRevampAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="PROVIDING_ACTION"/>
               </key>
               <value>
                  <object expr="ReleaseSD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WF_STEP_NAME"/>
               </key>
               <value>
                  <object expr="Provisioning Wait"/>
               </value>
            </entry>
         </map>
      </field>
      <transition g="-5,-20" name="ErrorHandler" to="ActionError">
        <script expr="6" g="0,0,80,40" var="ERROR_FLAG"/>
      </transition>
      <transition to="Check Wait After Release"/>
   </custom>
   <decision g="1973,2568,205,48" name="Select State After Release SD">
      <transition to="Wait Before SMS DS48">
         <condition expr="${RELEASE_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Wait For 1 Day Before Suspension DS55">
         <condition expr="${RELEASE_FLAG==&apos;11&apos;}"/>
      </transition>
      <transition to="01-ROAM-33-DataRFSP">
         <condition expr="${RELEASE_FLAG==&apos;7&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${RELEASE_FLAG==&apos;9&apos;}"/>
      </transition>
      <transition to="04-HOLD-08-DataHOLD">
         <condition expr="${RELEASE_FLAG==&apos;14&apos;}"/>
      </transition>
      <transition to="03-BP-08-DSBP1">
         <condition expr="${RELEASE_FLAG==&apos;12&apos;}"/>
      </transition>
      <transition to="01-ROAM-10-DataRoam">
         <condition expr="${RELEASE_FLAG==&apos;13&apos;}"/>
      </transition>
      <transition to="02-OOPS-17-DataOOPS">
         <condition expr="${RELEASE_FLAG==&apos;8&apos;}"/>
      </transition>
      <transition to="Wait for AutoRelease Max Scheduled Time">
         <condition expr="${RELEASE_FLAG==&apos;22&apos;}"/>
      </transition>
      <transition to="Wait For 6 hours">
         <condition expr="${RELEASE_FLAG==&apos;23&apos;}"/>
      </transition>
      <transition to="Wait Before Suspension DS55">
         <condition expr="${RELEASE_FLAG==&apos;5&apos;}"/>
      </transition>
   </decision>
   <sub-process g="1131,3938,190,52" name="Collection Final Strategy" sub-process-key="GSM_SUBWF_ConsumerFinalStrategy">
      <transition g="-5,-20" name="IXC_Exit" to="Collection Ended"/>
   </sub-process>
   <custom g="1670,3413,115,52" name="ActionError" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="ActionError Wait">
      <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <state continue="async" g="1909,3412,140,52" name="ActionError Wait">
      <transition g="-50,-18" name="ContinueWorkflow" to="Select State After ActionError Wait">
         <timer duedate="12 hours" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="20" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
       <script expr="20" g="0,0,80,40" var="IMPT_FLAG"/>
      </transition>
   </state>
   <decision g="2204,3414,235,48" name="Select State After ActionError Wait">
      <transition to="DS45  Web Redirection">
         <condition expr="${ERROR_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="DS55 - Suspension">
         <condition expr="${ERROR_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Release SD">
         <condition expr="${ERROR_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="Release Suspension">
         <condition expr="${ERROR_FLAG==&apos;4&apos;}"/>
      </transition>
      <transition to="Release Suspension1">
         <condition expr="${ERROR_FLAG==&apos;5&apos;}"/>
      </transition>
      <transition to="Release SD1">
         <condition expr="${ERROR_FLAG==&apos;6&apos;}"/>
      </transition>
      <transition to="Collection Ended">
         <condition expr="${ERROR_FLAG==&apos;10&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="374,1973,165,52" name="Wait For 6 hours">
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule"/>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule"/>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
      <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSD" to="Release SD">
       <script expr="23" g="0,0,80,40" var="RELEASE_FLAG"/>
       <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSuspension" to="Release Suspension">
       <script expr="23" g="0,0,80,40" var="RELEASE_FLAG"/>
       <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="-5,-20" name="ReleaseSDandSuspension" to="Release Suspension1">
       <script expr="23" g="0,0,80,40" var="RELEASE_FLAG"/>
       <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
      <transition g="399,1947;392,1960:-5,-20" name="AutoRelease" to="Wait For 6 hours"/>
      <transition g="-5,-20" name="ContinueWorkflow" to="Check State Between Release SD and Suspension">
         <timer duedate="6 hours"/>
            <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
   </state>
   <decision g="373,1861,170,48" name="Check Autorelease Flag">
      <transition to="Check State Between Release SD and Suspension">
         <condition expr="${AUTORELEASE_FLAG==&apos;N&apos;}"/>
      </transition>
      <transition to="Check Provisioning Wait Flag">
         <condition expr="${AUTORELEASE_FLAG==&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="1205,204,155,48" name="Check Workflow Type">
      <transition g="-20,-17" name="IXC_Entry" to="Wait For Migration">
         <condition expr="${WORKFLOW_TYPE==&apos;M&apos;}"/>
      </transition>
      <transition g="-5,-20" name="IXC_Entry" to="Early Entry Action">
         <condition expr="${WORKFLOW_TYPE==&apos;N&apos;}"/>
      </transition>
   </decision>
     <decision g="845,382,48,17" name="Check Diferent State For Migration">
    <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Writeoff&apos;}"/>
      </transition>
      <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Deactivation&apos;}"/>
      </transition>
      <transition to="Collection Final Strategy">
         <condition expr="${IXC_STEP==&apos;Suspension&apos; &amp;&amp; IXC_SUB_STEP!=&apos;WBFS&apos;}"/>
      </transition>
      <transition to="Wait 14 Days Before Final Strategy">
         <condition expr="${IXC_STEP==&apos;Suspension&apos; &amp;&amp; IXC_SUB_STEP==&apos;WBFS&apos;}"/>
      </transition>
      <transition to="Wait Before SMS DS48">
         <condition expr="${IXC_STEP==&apos;SD&apos;}"/>
      </transition>
      <transition to="INVALID CUSTOMER STATE">
         <condition expr="${IXC_STEP==&apos;Invalid&apos; || IXC_STEP==&apos;Invalid_PP&apos; || IXC_STEP==&apos;Invalid_INS&apos; || IXC_STEP==&apos;Invalid_PAY&apos;}"/>
      </transition>
      <transition g="869,341:" to="Early Entry Action">
         <condition expr="${IXC_STEP==&apos;FirstStep&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="970,129,150,52" name="Wait For Migration">
      <transition g="1045,406:-102,-15" name="MigComplete" to="Check Diferent State For Migration">
       <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
      <transition g="-59,-9" name="ContinueWorkflow" to="Update Workflow Type"/>
   </state>
   <custom g="614,3596,170,52" name="INVALID CUSTOMER STATE" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="DoNothing"/>
      </field>
      <transition to="Wait to Fix Customer Data"/>
   </custom>
   <state continue="async" g="607,3717,185,52" name="Wait to Fix Customer Data">
      <transition g="699,4094:-5,-20" name="IXC_Exit" to="Collection Ended"/>
   </state>
   <custom g="1155,316,150,52" name="Early Entry Action" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="EarlyEntryAction"/>
      </field>
      <transition to="Early Entry Wait"/>
   </custom>
   <state continue="async" g="1124,421,209,52" name="Early Entry Wait">
      <transition g="3,-10" name="ContinueWorkflow" to="DS10 - SMS1">
         <timer duedate="0 business minute" startdate="${DUE_TIME}"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
        <script expr="21" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
   </state>
   <custom g="343,2318,170,52" name="Tickler For Hold Entry" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold entry on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Entry"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="04-HOLD-08-DataHOLD"/>
   </custom>
   <custom g="344,2667,165,52" name="Tickler For Hold Exit" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold exit on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Exit"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="DS20 - SMS3"/>
   </custom>
   <custom g="512,2719,165,52" name="Tickler for Hold Exit" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="TICKLER"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="LDES"/>
               </key>
               <value>
                  <object expr="Hold exit on IX Collection"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="SHDES"/>
               </key>
               <value>
                  <object expr="IX Hold Exit"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="TICKLER_TYPE"/>
               </key>
               <value>
                  <object expr="S"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="DS48 - SMS20"/>
   </custom>
   <custom g="1128,2326,199,52" name="Tickler For DS45 - Web Redirection" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <transition to="Wait Before SMS DS48">
         <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="1124,3692,205,52" name="Tickler For DS55 - Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="TSHAction"/>
      </field>
      <transition to="Wait 14 Days Before Final Strategy">
            <script expr="${calendar:getDate()}" g="0,0,80,40" var="WAITING_ENTRY_DATE"/>
      </transition>
   </custom>
   <custom g="1957,77,175,52" name="Set Roaming Report flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="DS48 - SMS20"/>
   </custom>
   <custom g="2509,290,125,52" name="Set OOPS flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="DS48 - SMS20"/>
   </custom>
   <state continue="async" g="448,4069,200,52" name="Wait For 12 hours Before Exit">
      <transition g="-5,-20" name="ContinueWorkflow" to="Collection Ended">
         <timer duedate="12 hours" startdate="${WAITING_ENTRY_DATE}"/>
      </transition>
      <transition g="598,4032;610,4047:-5,-20" name="Payment" to="Wait For 12 hours Before Exit"/>
      <transition g="636,4044;643,4058:-5,-20" name="InvoiceBalance" to="Wait For 12 hours Before Exit"/>
      <transition g="468,4041;463,4055:-5,-20" name="AutoRelease" to="Wait For 12 hours Before Exit"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Invoice" to="Check Exit criteria"/>
   </state>
   <state continue="async" g="2309,2811,362,52" name="Provisioning Wait Between Release Suspension and Release SD">
      <transition g="-5,-20" name="ContinueWorkflow" to="Release SD1">
       <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
			<script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
			 <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
		</transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
        <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
       <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
       <script expr="Y" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag">
     <script expr="N" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
    </transition>
   </state>
   <custom g="1104,1638,250,52" name="Load Distribution Action Before Web RD" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="LoadDistributionAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="SD"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="DUE_DAYS"/>
               </key>
               <value>
                  <object expr="2"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before Web RD DS45"/>
   </custom>
   <custom g="1106,2768,245,52" name="Load Distribution Action Before Suspension" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="LoadDistributionAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="ACTION_TYPE"/>
               </key>
               <value>
                  <object expr="Suspension"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="DUE_DAYS"/>
               </key>
               <value>
                  <object expr="2"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Wait Before Suspension DS55"/>
   </custom>
   <decision g="2174,176,295,48" name="Check OOPS or Roaming Report Flag in OOPS State">
      <transition g="2095,200:-5,-20" name="Yes" to="Set OOPS Flag IMPT">
         <condition expr="${ROAMING_REPORT_FLAG==&apos;Y&apos;}"/>
      </transition>
      <transition g="2287,200;2287,265:-5,-20" name="No" to="02-OOPS-17-DataOOPS">
         <condition expr="${ROAMING_REPORT_FLAG!=&apos;Y&apos;}"/>
      </transition>
   </decision>
   <decision g="2376,1560,215,48" name="Check for Intermediate P2P Flag">
      <transition to="Select PTP_FLAG For Different States">
         <condition expr="${PTP_FLAG_I==&apos;N&apos;}"/>
      </transition>
      <transition to="03-BP-08-DSBP1">
         <condition expr="${PTP_FLAG_I==&apos;Y&apos;}"/>
           <script expr="N" g="0,0,80,40" var="PTP_FLAG_I"/>
      </transition>
   </decision>
   <custom g="1045,228,160,52" name="Update Workflow Type" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="WORKFLOW_TYPE"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Early Entry Action"/>
   </custom>
   <custom g="1462,294,185,52" name="Reset Roaming Report Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="ROAMING_REPORT_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check Different Events RRPT"/>
   </custom>
   <decision g="1532,399,195,48" name="Check Different Events RRPT">
      <transition to="Promise To Pay SubWF">
         <condition expr="${SETRRPT_FLAG==&apos;1&apos;}"/>
      </transition>
      <transition to="Payment Plan SubWF">
         <condition expr="${SETRRPT_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${SETRRPT_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="DS45  Web Redirection">
         <condition expr="${SETRRPT_FLAG==&apos;4&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition to="IN Deduction">
         <condition expr="${SETRRPT_FLAG==&apos;5&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <custom g="2337,416,168,52" name="Reset OOPS Flag" class="com.lhs.wma.wfms.jbpm4.WFMSActionAssignment" exception-listener="com.lhs.wma.wfms.jbpm4.WFMSExceptionHandler">
      <field name="actionName">
         <string value="UpdateWorkflowAttributeAction"/>
      </field>
      <field name="variables">
         <map class="java.util.HashMap">
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_PUB"/>
               </key>
               <value>
                  <object expr="OOPS_FLAG"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_TYPE"/>
               </key>
               <value>
                  <object expr="V"/>
               </value>
            </entry>
            <entry>
               <key>
                  <string value="WORKFLOW_ATTR_VALUE"/>
               </key>
               <value>
                  <object expr="N"/>
               </value>
            </entry>
         </map>
      </field>
      <transition to="Check Different Events OOPS"/>
   </custom>
   <decision g="2397,515,195,48" name="Check Different Events OOPS">
      <transition to="Promise To Pay SubWF">
         <condition expr="${SETOOPS_FLAG==&apos;1&apos;}"/>
      </transition>
       <transition to="Payment Plan SubWF">
         <condition expr="${SETOOPS_FLAG==&apos;2&apos;}"/>
      </transition>
      <transition to="Tickler For Hold Entry">
         <condition expr="${SETOOPS_FLAG==&apos;3&apos;}"/>
      </transition>
      <transition to="DS45  Web Redirection">
         <condition expr="${SETOOPS_FLAG==&apos;4&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
      <transition to="IN Deduction">
         <condition expr="${SETOOPS_FLAG==&apos;5&apos;}"/>
          <script expr="MAN" g="0,0,80,40" var="PROVISIONING_TYPE"/>
      </transition>
   </decision>
   <state continue="async" g="811,2274,295,52" name="Provisioning Wait Forever After Web Redirection">
      <transition g="1021,2352:-5,-20" name="ContinueWorkflow" to="Tickler For DS45 - Web Redirection"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="4" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      	<script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      	<script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      	<script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="42" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
   </state>
   <state continue="async" g="1091,3580,270,52" name="Provisioning Wait Forever After Suspension">
      <transition g="-5,-20" name="ContinueWorkflow" to="Tickler For DS55 - Suspension"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="9" g="0,0,80,40" var="PTP_FLAG"/>
      </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      	<script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      	<script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      	<script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
       <script expr="43" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
   </state>
   <decision g="2254,3034,180,48" name="Check Wait After Release">
      <transition to="Provisioning Wait Forever After Release">
         <condition expr="${RELEASE_FLAG!=&apos;22&apos; &amp;&amp; RELEASE_FLAG!=&apos;23&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Forever After Release1">
         <condition expr="${RELEASE_FLAG==&apos;22&apos; || RELEASE_FLAG==&apos;23&apos;}"/>
      </transition>
   </decision>
   <state continue="async" g="2075,3208,255,52" name="Provisioning Wait Forever After Release">
      <transition g="-5,-20" name="ContinueWorkflow" to="Select State After Release SD"/>
      <transition g="-5,-20" name="PromiseToPay" to="Promise To Pay SubWF">
      <script expr="${RELEASE_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Installment" to="Payment Plan SubWF">
      <script expr="${RELEASE_FLAG}" g="0,0,80,40" var="PTP_FLAG"/>
    </transition>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="Hold" to="Tickler For Hold Entry"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
      <script expr="44" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
   </state>
   <state continue="async" g="2434,3197,260,52" name="Provisioning Wait Forever After Release1">
      <transition g="-5,-20" name="ContinueWorkflow" to="Select State After Release SD"/>
      <transition g="-5,-20" name="IMPT" to="Check OOPS or Roaming Report Flag"/>
      <transition g="-5,-20" name="AutoRelease" to="Wait for AutoRelease Max Scheduled Time">
      	<script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
      </transition>
      <transition g="-5,-20" name="Payment" to="Check IMPT Rule">
        <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
        <script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="InvoiceBalance" to="Check IMPT Rule">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
       <script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
      <transition g="-5,-20" name="Invoice" to="Check IMPT Rule">
       <script expr="Y" g="0,0,80,40" var="AUTORELEASE_FLAG"/>
       <script expr="45" g="0,0,80,40" var="PAYNINV_FLAG"/>
    </transition>
   </state>
   <decision g="514,1794,285,48" name="Check State Between Release SD and Suspension">
      <transition to="Select State After Payment">
         <condition expr="${RELEASEINMID_FLAG==&apos;N&apos;}"/>
      </transition>
      <transition to="Provisioning Wait Between Release Suspension and Release SD">
         <condition expr="${RELEASEINMID_FLAG==&apos;Y&apos;}"/>
          <script expr="N" g="0,0,80,40" var="RELEASEINMID_FLAG"/>
      </transition>
   </decision>
   <decision g="409,3774,155,48" name="Check Exit criteria">
      <transition g="395,3957:-5,-20" name="Yes" to="Wait For 12 hours Before Exit">
         <condition expr="${CUSTOMER_AMOUNT&lt;25}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Early Entry Action">
         <condition expr="${CUSTOMER_AMOUNT&gt;=25}"/>
      </transition>
   </decision>
   <decision g="1084,3300,155,48" name="Check In Flag Value">
      <transition g="1227,3324:" to="Provisioning Wait for IN Deduction Max. Wait Period">
         <condition expr="${IN_FLAG==&apos;T&apos;}"/>
      </transition>
      <transition g="1050,3324;1050,3484:" to="DS55 - Suspension">
         <condition expr="${IN_FLAG==&apos;F&apos;}"/>
      </transition>
   </decision>
   <decision g="1413,136,115,48" name="CheckAmount">
    <transition g="-5,-20" name="Yes" to="Collection Started">
         <condition expr="${CUSTOMER_AMOUNT &gt;= 25}"/>
      </transition>
      <transition g="-5,-20" name="No" to="Wait For 12 hours Before Exit">
         <condition expr="${CUSTOMER_AMOUNT &lt; 25}"/>
      </transition>
   </decision>
   <decision g="1481,37,180,48" name="Check for Entry Criteria">
   <handler class="com.mobinil.decision.handler.EntryCriteriaValidator"/>
       <transition g="-12,-20" name="T" to="CheckAmount"/>
       <transition g="-11,-20" name="F" to="Wait For 12 hours Before Exit"/>
   </decision>
   <decision name="Check Provisioning Wait Flag" g="318,1923,200,48">
      <transition to="Wait For 6 hours">
         <condition expr="${PAYNINV_FLAG!=&apos;45&apos;}"/>
      </transition>
      <transition to="Check State Between Release SD and Suspension">
         <condition expr="${PAYNINV_FLAG==&apos;45&apos;}"/>
      </transition>
   </decision>
</process>